<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
<title>Multi-Destination Trip Planner 2026 - goFLY Limited</title>
<meta name="description" content="Plan your perfect multi-destination trip. Thailand, Malaysia, Singapore & 11+ destinations. Instant land package quotes, 90-98% visa success, EMI available.">
<link rel="canonical" href="https://goflybd.com/trip-planner/">
<link rel="icon" href="https://goflybd.com/wp-content/uploads/2023/07/goFLY-logo.png.webp" type="image/webp">

<!-- Preconnect -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preconnect" href="https://unpkg.com">

<!-- Leaflet Map CSS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<link href="https://fonts.googleapis.com/css2?family=Cantora+One&family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

<!-- Schema.org -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "TravelAgency",
  "name": "goFLY Limited",
  "url": "https://goflybd.com",
  "telephone": "+8809639203090",
  "email": "support@goflybd.com"
}
</script>

<style>
:root {
    --primary: #10b981;
    --primary-dark: #059669;
    --primary-light: #34d399;
    --secondary: #f97316;
    --secondary-dark: #ea580c;
    --danger: #ef4444;
    --warning: #f59e0b;
    --info: #3b82f6;
    --success: #22c55e;
    --gray-50: #f8fafc;
    --gray-100: #f1f5f9;
    --gray-200: #e2e8f0;
    --gray-300: #cbd5e1;
    --gray-400: #94a3b8;
    --gray-500: #64748b;
    --gray-600: #475569;
    --gray-700: #334155;
    --gray-800: #1e293b;
    --gray-900: #0f172a;
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1);
    --radius: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;
    --radius-xl: 24px;
    --radius-full: 9999px;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

html { scroll-behavior: smooth; }

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    background: linear-gradient(135deg, #f0fdf4 0%, #fff7ed 100%);
    min-height: 100vh;
    padding: 20px;
    color: var(--gray-800);
    line-height: 1.6;
}

.container { max-width: 1400px; margin: 0 auto; }

/* ==================== HEADER (NO LOGO) ==================== */
.header {
    text-align: center;
    margin-bottom: 40px;
    animation: fadeInDown 0.6s ease;
}

.header h1 {
    font-family: 'Cantora One', cursive;
    font-size: clamp(1.8rem, 5vw, 2.8rem);
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 12px;
}

/* ==================== OFFER BANNER ==================== */
.offer-banner {
    background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
    color: white;
    padding: 16px 24px;
    border-radius: var(--radius-lg);
    margin-bottom: 24px;
    text-align: center;
    animation: pulse 2s infinite;
    position: relative;
}

.offer-banner h3 { font-size: 1.3rem; margin-bottom: 4px; }
.offer-banner p { font-size: 0.95rem; opacity: 0.95; }
.offer-countdown { font-weight: 700; font-size: 1.1rem; margin-top: 8px; }

/* ==================== TRUST BADGES ==================== */
.trust-badges {
    display: flex;
    justify-content: center;
    gap: 16px;
    margin-top: 20px;
    flex-wrap: wrap;
}

.trust-badge {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.9rem;
    color: var(--gray-600);
    background: white;
    padding: 8px 16px;
    border-radius: var(--radius-full);
    box-shadow: var(--shadow-sm);
}

.trust-badge strong { color: var(--primary); }

/* ==================== CURRENCY CONVERTER ==================== */
.currency-converter {
    background: white;
    border-radius: var(--radius-lg);
    padding: 20px;
    margin-bottom: 24px;
    box-shadow: var(--shadow-md);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 20px;
    flex-wrap: wrap;
}

.currency-rates { display: flex; gap: 12px; flex-wrap: wrap; }

.currency-rate {
    background: var(--gray-50);
    padding: 8px 16px;
    border-radius: var(--radius);
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    gap: 8px;
}

.currency-rate .flag { font-size: 1.2rem; }
.currency-rate .rate { font-weight: 600; color: var(--primary); }

/* ==================== MAP ==================== */
.map-container {
    background: white;
    border-radius: var(--radius-xl);
    padding: 24px;
    margin-bottom: 24px;
    box-shadow: var(--shadow-lg);
    display: none;
}

.map-container.show { display: block; animation: fadeIn 0.5s ease; }

#tripMap { height: 300px; border-radius: var(--radius-md); z-index: 1; }

/* ==================== INTEREST SELECTOR ==================== */
.interest-selector {
    background: linear-gradient(135deg, #fdf4ff 0%, #fae8ff 100%);
    border-radius: var(--radius-lg);
    padding: 20px;
    margin-bottom: 20px;
    border-left: 4px solid #a855f7;
}

.interest-selector h4 { color: #7e22ce; margin-bottom: 12px; }

.interest-chips { display: flex; gap: 10px; flex-wrap: wrap; }

.interest-chip {
    background: white;
    padding: 10px 18px;
    border-radius: var(--radius-full);
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.3s;
    border: 2px solid transparent;
}

.interest-chip:hover { border-color: #a855f7; background: #faf5ff; }

.interest-chip.selected {
    background: linear-gradient(135deg, #a855f7 0%, #7c3aed 100%);
    color: white;
}

/* ==================== COMBO RECOMMENDATIONS ==================== */
.recommended-combos {
    background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
    border-radius: var(--radius-lg);
    padding: 20px;
    margin: 20px 0;
    border-left: 4px solid var(--info);
}

.combo-chips { display: flex; gap: 10px; flex-wrap: wrap; }

.combo-chip {
    background: white;
    padding: 10px 16px;
    border-radius: var(--radius-full);
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.3s;
    border: 2px solid transparent;
}

.combo-chip:hover { border-color: var(--info); transform: translateY(-2px); }
.combo-chip.trending::after { content: 'üî•'; margin-left: 4px; }

/* ==================== PLANNER CARD ==================== */
.planner-card {
    background: white;
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-xl);
    padding: 40px;
    animation: fadeInUp 0.6s ease;
}

/* ==================== STEP INDICATOR ==================== */
.step-indicator {
    display: flex;
    justify-content: space-between;
    margin-bottom: 40px;
    position: relative;
}

.step-indicator::before {
    content: '';
    position: absolute;
    top: 20px;
    left: 0;
    right: 0;
    height: 2px;
    background: var(--gray-200);
}

.step {
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
    z-index: 1;
    flex: 1;
}

.step-number {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: var(--gray-200);
    color: var(--gray-400);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    margin-bottom: 8px;
    transition: all 0.3s;
}

.step.active .step-number {
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    color: white;
    transform: scale(1.1);
}

.step.completed .step-number { background: var(--primary); color: white; }
.step-label { font-size: 0.85rem; color: var(--gray-500); }
.step.active .step-label { color: var(--primary); font-weight: 600; }

/* ==================== FORM SECTIONS ==================== */
.form-section { display: none; animation: fadeIn 0.4s ease; }
.form-section.active { display: block; }

.form-group { margin-bottom: 24px; }

.form-group label {
    display: block;
    font-weight: 600;
    color: var(--gray-800);
    margin-bottom: 8px;
}

/* ==================== DESTINATION GRID ==================== */
.destination-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 16px;
    margin-top: 16px;
}

.destination-card {
    position: relative;
    border-radius: var(--radius-lg);
    overflow: hidden;
    cursor: pointer;
    transition: all 0.3s;
    border: 3px solid transparent;
    height: 220px;
    background-size: cover;
    background-position: center;
}

.destination-card::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(to bottom, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.7) 100%);
    transition: all 0.3s;
}

.destination-card:hover { transform: translateY(-4px); }

.destination-card.selected {
    border-color: var(--primary);
    box-shadow: 0 12px 30px rgba(16, 185, 129, 0.3);
}

.destination-card.recommended { border-color: var(--warning); }

.destination-content {
    position: relative;
    z-index: 1;
    padding: 20px;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    color: white;
}

.destination-name { font-size: 1.5rem; font-weight: 700; }
.destination-category { font-size: 0.85rem; opacity: 0.9; }

.destination-tags { display: flex; gap: 6px; flex-wrap: wrap; margin-top: 8px; }

.destination-tag {
    background: rgba(255,255,255,0.2);
    padding: 3px 8px;
    border-radius: var(--radius);
    font-size: 0.75rem;
}

/* Min days badge */
.min-days-badge {
    position: absolute;
    top: 10px;
    right: 10px;
    background: rgba(0,0,0,0.7);
    color: white;
    padding: 4px 10px;
    border-radius: var(--radius-full);
    font-size: 0.75rem;
    z-index: 3;
}

/* ==================== SMART WARNING ==================== */
.smart-warning {
    background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
    border: 2px solid var(--danger);
    border-radius: var(--radius-lg);
    padding: 24px;
    margin: 20px 0;
    display: none;
}

.smart-warning.show { display: block; animation: shake 0.5s ease; }

.smart-warning h4 { color: var(--danger); margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }

.suggestion-buttons { display: flex; gap: 12px; flex-wrap: wrap; margin-top: 16px; }

.btn-suggest {
    padding: 10px 20px;
    border-radius: var(--radius);
    border: none;
    font-weight: 600;
    cursor: pointer;
}

.btn-extend { background: var(--primary); color: white; }
.btn-reduce { background: var(--secondary); color: white; }
.btn-keep { background: var(--gray-200); color: var(--gray-700); }

/* ==================== SELECTED DESTINATIONS ==================== */
.selected-destinations {
    background: linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%);
    padding: 20px;
    border-radius: var(--radius-md);
    margin-top: 20px;
    border: 2px solid var(--primary);
}

.selected-list { display: flex; flex-wrap: wrap; gap: 8px; }

.selected-item {
    background: white;
    padding: 8px 16px;
    border-radius: var(--radius-full);
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    gap: 8px;
    border: 1px solid var(--gray-200);
}

.remove-btn { cursor: pointer; color: var(--secondary); font-weight: bold; }

/* ==================== ADDONS ==================== */
.addons-section {
    background: linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%);
    border-radius: var(--radius-lg);
    padding: 24px;
    margin: 24px 0;
    border: 2px solid var(--primary);
}

.addons-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 12px;
}

.addon-item {
    background: white;
    padding: 16px;
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    gap: 12px;
    cursor: pointer;
    transition: all 0.3s;
    border: 2px solid transparent;
}

.addon-item:hover { border-color: var(--primary); }
.addon-item.selected { border-color: var(--primary); background: #f0fdf4; }

.addon-info { flex: 1; }
.addon-name { font-weight: 600; font-size: 0.95rem; }
.addon-desc { font-size: 0.8rem; color: var(--gray-500); }
.addon-price { font-weight: 700; color: var(--secondary); }

.addons-total {
    margin-top: 16px;
    padding-top: 16px;
    border-top: 2px dashed var(--gray-300);
    display: flex;
    justify-content: space-between;
}

/* ==================== INPUTS ==================== */
select, input[type="number"], input[type="date"], input[type="text"], input[type="tel"], input[type="email"] {
    width: 100%;
    padding: 14px 16px;
    border: 2px solid var(--gray-200);
    border-radius: var(--radius-md);
    font-size: 1rem;
    font-family: 'Inter', sans-serif;
    transition: all 0.3s;
}

select:focus, input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
}

input.error { border-color: var(--danger) !important; }

.error-message {
    color: var(--danger);
    font-size: 0.85rem;
    margin-top: 6px;
    display: none;
}

.error-message.show { display: block; }

/* ==================== BUDGET OPTIONS ==================== */
.budget-options {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 16px;
    margin-top: 16px;
}

.budget-option {
    padding: 24px;
    border: 2px solid var(--gray-200);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all 0.3s;
    text-align: center;
    position: relative;
}

.budget-option:hover { border-color: var(--primary); background: #f0fdf4; }

.budget-option.selected {
    border-color: var(--primary);
    background: linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%);
}

.budget-option.popular::before {
    content: '‚≠ê Best Value';
    position: absolute;
    top: -10px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--secondary);
    color: white;
    padding: 2px 12px;
    border-radius: var(--radius-full);
    font-size: 0.7rem;
}

.budget-option .icon { font-size: 2rem; margin-bottom: 12px; }
.budget-option h3 { font-size: 1.2rem; margin-bottom: 8px; }
.budget-option p { font-size: 0.9rem; color: var(--gray-500); }

/* ==================== PEAK SEASON ==================== */
.peak-season-2026 {
    background: linear-gradient(135deg, #fef3c7 0%, #fed7aa 100%);
    padding: 16px;
    border-radius: var(--radius-md);
    margin-top: 12px;
    border-left: 4px solid var(--warning);
}

.peak-dates { display: flex; gap: 12px; flex-wrap: wrap; margin-top: 8px; }

.peak-date {
    background: white;
    padding: 8px 12px;
    border-radius: var(--radius);
    font-size: 0.85rem;
    color: #92400e;
}

/* ==================== BUTTONS ==================== */
.button-group {
    display: flex;
    gap: 16px;
    margin-top: 32px;
    justify-content: space-between;
}

.btn {
    padding: 14px 32px;
    border: none;
    border-radius: var(--radius-md);
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
    font-family: 'Inter', sans-serif;
}

.btn-secondary { background: var(--gray-100); color: var(--gray-600); }
.btn-secondary:hover { background: var(--gray-200); }

.btn-primary {
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    color: white;
    flex: 1;
}

.btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(16, 185, 129, 0.3); }
.btn-primary:disabled { opacity: 0.5; cursor: not-allowed; }

/* ==================== RESULT SECTION ==================== */
.itinerary-result { display: none; }
.itinerary-result.active { display: block; animation: fadeIn 0.6s ease; }

/* IMPROVED HEADER */
.result-header {
    background: linear-gradient(135deg, var(--primary) 0%, #047857 50%, var(--secondary) 100%);
    color: white;
    padding: 50px 40px;
    border-radius: var(--radius-xl);
    margin-bottom: 24px;
    text-align: center;
    position: relative;
    overflow: hidden;
}

.result-header::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 50%);
    animation: shimmer 8s linear infinite;
}

@keyframes shimmer {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.result-header .emoji-bg {
    position: absolute;
    font-size: 4rem;
    opacity: 0.1;
}

.result-header .emoji-bg:nth-child(1) { top: 10%; left: 5%; }
.result-header .emoji-bg:nth-child(2) { top: 20%; right: 10%; }
.result-header .emoji-bg:nth-child(3) { bottom: 10%; left: 15%; }

.result-header h2 {
    font-family: 'Cantora One', cursive;
    font-size: clamp(1.8rem, 4vw, 2.5rem);
    margin-bottom: 16px;
    position: relative;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
}

.result-destinations {
    font-size: 1.4rem;
    margin-bottom: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    flex-wrap: wrap;
}

.result-destinations .country {
    background: rgba(255,255,255,0.2);
    padding: 8px 16px;
    border-radius: var(--radius-full);
    backdrop-filter: blur(10px);
}

.result-meta {
    display: flex;
    justify-content: center;
    gap: 24px;
    flex-wrap: wrap;
    margin-top: 16px;
    font-size: 1rem;
    opacity: 0.95;
}

.result-meta span {
    display: flex;
    align-items: center;
    gap: 6px;
}

.discount-badge {
    display: inline-block;
    background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
    color: #78350f;
    padding: 10px 20px;
    border-radius: var(--radius-full);
    font-weight: 700;
    font-size: 1rem;
    margin-top: 20px;
    animation: bounce 1s infinite;
}

@keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
}

/* ==================== TRIP SUMMARY ==================== */
.trip-summary {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 16px;
    margin-bottom: 32px;
}

.summary-item {
    background: white;
    padding: 24px 20px;
    border-radius: var(--radius-lg);
    text-align: center;
    box-shadow: var(--shadow-md);
    transition: all 0.3s;
    border: 2px solid transparent;
}

.summary-item:hover {
    transform: translateY(-4px);
    border-color: var(--primary);
}

.summary-item .icon { font-size: 2rem; margin-bottom: 8px; }
.summary-item .label { font-size: 0.85rem; color: var(--gray-500); margin-bottom: 4px; }
.summary-item .value { font-size: 1.5rem; font-weight: 700; color: var(--gray-800); }
.summary-item.highlight .value { color: var(--primary); }

/* ==================== DAY ITINERARY ==================== */
.day-itinerary {
    background: white;
    padding: 24px;
    border-radius: var(--radius-lg);
    margin-bottom: 16px;
    border-left: 4px solid var(--primary);
    box-shadow: var(--shadow-sm);
    transition: all 0.3s;
}

.day-itinerary:hover { box-shadow: var(--shadow-md); }

.day-itinerary.travel-day {
    border-left-color: var(--secondary);
    background: linear-gradient(135deg, #fff7ed 0%, #ffedd5 100%);
}

.day-header {
    display: flex;
    align-items: center;
    gap: 16px;
    margin-bottom: 20px;
    flex-wrap: wrap;
}

.day-number {
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    color: white;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    font-weight: 700;
}

.day-number span { font-size: 0.7rem; opacity: 0.8; }
.day-number strong { font-size: 1.2rem; line-height: 1; }

.travel-day .day-number {
    background: linear-gradient(135deg, var(--secondary) 0%, var(--secondary-dark) 100%);
}

.day-info h3 { font-size: 1.2rem; color: var(--gray-800); margin-bottom: 4px; }
.day-info .date { font-size: 0.9rem; color: var(--gray-500); }

.day-highlights {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    margin-left: auto;
}

.highlight-tag {
    background: var(--gray-100);
    padding: 4px 12px;
    border-radius: var(--radius-full);
    font-size: 0.8rem;
    color: var(--gray-700);
}

.activity-list { list-style: none; }

.activity-list li {
    padding: 14px 0;
    border-bottom: 1px solid var(--gray-100);
    display: flex;
    align-items: start;
    gap: 16px;
}

.activity-list li:last-child { border-bottom: none; }

.activity-time {
    background: var(--gray-50);
    padding: 6px 12px;
    border-radius: var(--radius);
    font-weight: 600;
    color: var(--primary);
    font-size: 0.85rem;
    min-width: 80px;
    text-align: center;
}

.activity-content { flex: 1; }
.activity-name { font-weight: 600; color: var(--gray-800); margin-bottom: 2px; }
.activity-desc { font-size: 0.9rem; color: var(--gray-500); }

/* ==================== IMPROVED PRICE BREAKDOWN ==================== */
.price-section {
    background: white;
    border-radius: var(--radius-xl);
    overflow: hidden;
    margin-bottom: 24px;
    box-shadow: var(--shadow-lg);
}

.price-header {
    background: linear-gradient(135deg, var(--gray-800) 0%, var(--gray-900) 100%);
    color: white;
    padding: 24px 30px;
}

.price-header h3 { font-size: 1.3rem; margin-bottom: 4px; }
.price-header p { opacity: 0.8; font-size: 0.9rem; }

.price-body { padding: 24px 30px; }

.price-category {
    background: linear-gradient(135deg, var(--gray-50) 0%, var(--gray-100) 100%);
    padding: 12px 16px;
    margin: 20px -30px 12px;
    font-weight: 600;
    color: var(--gray-700);
    display: flex;
    align-items: center;
    gap: 8px;
}

.price-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 14px 0;
    border-bottom: 1px solid var(--gray-100);
}

.price-row:last-child { border-bottom: none; }

.price-row .label {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.price-row .label small { color: var(--gray-500); font-size: 0.8rem; }
.price-row .amount { font-weight: 600; color: var(--gray-800); }

.price-row.discount {
    background: #fef2f2;
    margin: 0 -30px;
    padding: 14px 30px;
}

.price-row.discount .label { color: var(--danger); }
.price-row.discount .amount { color: var(--danger); }

.price-row.subtotal {
    background: var(--gray-50);
    margin: 0 -30px;
    padding: 14px 30px;
    font-weight: 600;
}

.price-total {
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    color: white;
    margin: 20px -30px -24px;
    padding: 24px 30px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.price-total .label { font-size: 1.1rem; }
.price-total .amount { font-size: 1.8rem; font-weight: 700; }

.price-note {
    background: #fef3c7;
    padding: 16px 20px;
    margin: 20px -30px;
    font-size: 0.9rem;
    color: #92400e;
    display: flex;
    align-items: start;
    gap: 10px;
}

.price-note .icon { font-size: 1.2rem; }

/* TOURS BREAKDOWN (Only if selected) */
.tours-breakdown {
    background: linear-gradient(135deg, #fdf4ff 0%, #fae8ff 100%);
    border-radius: var(--radius-lg);
    padding: 20px;
    margin-top: 20px;
    border: 2px solid #a855f7;
}

.tours-breakdown h4 { color: #7e22ce; margin-bottom: 12px; }

.tour-item {
    display: flex;
    justify-content: space-between;
    padding: 10px 0;
    border-bottom: 1px dashed #e9d5ff;
}

.tour-item:last-child { border-bottom: none; }

/* ==================== CTA SECTION ==================== */
.cta-section {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 16px;
    margin-top: 32px;
}

.cta-button {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    padding: 18px 24px;
    border-radius: var(--radius-md);
    font-weight: 600;
    font-size: 1.05rem;
    text-decoration: none;
    transition: all 0.3s;
}

.cta-whatsapp { background: linear-gradient(135deg, #25d366 0%, #128c7e 100%); color: white; }
.cta-whatsapp:hover { transform: translateY(-3px); box-shadow: 0 10px 25px rgba(37, 211, 102, 0.3); }

.cta-call { background: linear-gradient(135deg, var(--secondary) 0%, var(--secondary-dark) 100%); color: white; }
.cta-email { background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%); color: white; }

/* ==================== FLIGHT NOTICE ==================== */
.flight-notice {
    background: linear-gradient(135deg, #fef3c7 0%, #fed7aa 100%);
    padding: 24px;
    border-radius: var(--radius-lg);
    margin-bottom: 24px;
    border-left: 4px solid var(--secondary);
    text-align: center;
}

.flight-notice h3 { color: #92400e; margin-bottom: 12px; }

.flight-cta {
    display: flex;
    gap: 12px;
    justify-content: center;
    flex-wrap: wrap;
    margin-top: 16px;
}

.flight-cta a {
    padding: 14px 24px;
    border-radius: var(--radius-md);
    text-decoration: none;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
}

/* ==================== VISA LINKS ==================== */
.visa-links-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 12px;
}

.visa-link-card {
    background: white;
    padding: 16px;
    border-radius: var(--radius-md);
    text-decoration: none;
    color: var(--gray-800);
    display: flex;
    align-items: center;
    gap: 12px;
    transition: all 0.3s;
    border: 2px solid transparent;
}

.visa-link-card:hover { border-color: var(--secondary); transform: translateX(4px); }

.visa-link-card .flag { font-size: 2rem; }
.visa-link-card .info { flex: 1; }
.visa-link-card .country-name { font-weight: 600; }
.visa-link-card .visa-type { font-size: 0.85rem; color: var(--gray-600); }
.visa-link-card .arrow { color: var(--secondary); }

/* ==================== EMI CALCULATOR ==================== */
.emi-calculator {
    background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
    border-radius: var(--radius-lg);
    padding: 24px;
    margin-top: 24px;
    border-left: 4px solid #3b82f6;
}

.emi-inputs {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 16px;
    margin-bottom: 16px;
}

.emi-result {
    background: white;
    padding: 20px;
    border-radius: var(--radius-md);
    margin-top: 16px;
    display: none;
}

.emi-result.show { display: block; }

.emi-result-row {
    display: flex;
    justify-content: space-between;
    padding: 12px 0;
    border-bottom: 1px solid var(--gray-100);
}

.emi-result-row:last-child { border-bottom: none; font-weight: 700; color: var(--primary); }

/* ==================== DOWNLOAD BUTTONS ==================== */
.download-buttons { display: flex; gap: 12px; margin-top: 24px; flex-wrap: wrap; }

.btn-download {
    background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
    color: white;
    padding: 14px 28px;
    border-radius: var(--radius-md);
    text-decoration: none;
    font-weight: 600;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    border: none;
    cursor: pointer;
    font-family: 'Inter', sans-serif;
    font-size: 1rem;
    transition: all 0.3s;
}

.btn-download:hover { transform: translateY(-2px); }

/* ==================== RATING ==================== */
.rating-section {
    background: linear-gradient(135deg, #fdf4ff 0%, #fae8ff 100%);
    border-radius: var(--radius-lg);
    padding: 24px;
    margin: 24px 0;
    text-align: center;
}

.rating-stars { display: flex; justify-content: center; gap: 12px; margin: 16px 0; }

.rating-star {
    font-size: 2.5rem;
    cursor: pointer;
    filter: grayscale(100%);
    transition: all 0.2s;
}

.rating-star:hover, .rating-star.active { filter: grayscale(0%); transform: scale(1.2); }

.rating-feedback { display: none; margin-top: 16px; }
.rating-feedback.show { display: block; }

/* ==================== POPULAR PACKAGES ==================== */
.popular-packages {
    background: white;
    border-radius: var(--radius-xl);
    padding: 32px;
    margin-bottom: 32px;
    box-shadow: var(--shadow-lg);
}

.popular-packages h2 {
    font-family: 'Cantora One', cursive;
    font-size: 1.8rem;
    text-align: center;
    margin-bottom: 24px;
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.packages-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 20px;
}

.package-card {
    border: 2px solid var(--gray-200);
    border-radius: var(--radius-lg);
    padding: 20px;
    cursor: pointer;
    transition: all 0.3s;
    position: relative;
}

.package-card:hover { border-color: var(--primary); transform: translateY(-4px); }

.package-card.trending::before {
    content: 'üî• 2026 Trending';
    position: absolute;
    top: -10px;
    right: 20px;
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
    padding: 4px 12px;
    border-radius: var(--radius-full);
    font-size: 0.75rem;
}

.package-badge {
    display: inline-block;
    background: var(--secondary);
    color: white;
    padding: 4px 12px;
    border-radius: var(--radius-full);
    font-size: 0.75rem;
    margin-bottom: 12px;
}

.package-title { font-size: 1.3rem; font-weight: 700; margin-bottom: 8px; }

.package-details { display: flex; gap: 16px; margin: 12px 0; font-size: 0.9rem; color: var(--gray-600); }

.package-price { font-size: 1.5rem; font-weight: 700; color: var(--primary); margin: 12px 0; }
.package-price .original { text-decoration: line-through; color: var(--gray-400); font-size: 1rem; margin-right: 8px; }

.package-highlights { list-style: none; }
.package-highlights li { padding: 6px 0; font-size: 0.85rem; color: var(--gray-600); }
.package-highlights li::before { content: '‚úì '; color: var(--primary); font-weight: bold; }

/* ==================== TESTIMONIALS ==================== */
.testimonials-section {
    background: white;
    border-radius: var(--radius-xl);
    padding: 32px;
    margin-bottom: 32px;
    box-shadow: var(--shadow-lg);
}

.testimonials-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
}

.testimonial-card {
    background: linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%);
    border-radius: var(--radius-lg);
    padding: 24px;
    border-left: 4px solid var(--primary);
}

.testimonial-header { display: flex; align-items: center; gap: 16px; margin-bottom: 16px; }

.testimonial-avatar {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
    font-weight: bold;
}

.testimonial-info h4 { margin: 0; }
.testimonial-info p { color: var(--gray-600); font-size: 0.85rem; }
.testimonial-rating { color: #f59e0b; margin-bottom: 12px; }
.testimonial-text { font-style: italic; color: var(--gray-700); line-height: 1.6; }
.testimonial-trip { margin-top: 12px; padding-top: 12px; border-top: 1px solid var(--gray-200); font-size: 0.85rem; color: var(--gray-600); }

/* ==================== SAVE INDICATOR ==================== */
.save-indicator {
    position: fixed;
    bottom: 20px;
    left: 20px;
    background: var(--primary);
    color: white;
    padding: 12px 20px;
    border-radius: var(--radius-full);
    box-shadow: var(--shadow-lg);
    font-weight: 600;
    font-size: 0.9rem;
    display: none;
    z-index: 1000;
}


.save-indicator.show { display: flex; animation: slideInUp 0.3s ease; }

/* ==================== TOAST NOTIFICATION ==================== */
.toast-notification {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%) translateY(-100px);
    background: white;
    padding: 16px 24px;
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-xl);
    display: flex;
    align-items: center;
    gap: 12px;
    min-width: 300px;
    max-width: 500px;
    z-index: 10000;
    transition: transform 0.3s ease, opacity 0.3s ease;
    opacity: 0;
    pointer-events: none;
}

.toast-notification.show {
    transform: translateX(-50%) translateY(0);
    opacity: 1;
    pointer-events: auto;
}

.toast-notification.error {
    background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
    border-left: 4px solid var(--danger);
}

.toast-notification.success {
    background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
    border-left: 4px solid var(--primary);
}

.toast-notification.warning {
    background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
    border-left: 4px solid var(--warning);
}

.toast-notification .toast-icon {
    font-size: 1.5rem;
}

.toast-notification .toast-message {
    flex: 1;
    font-weight: 500;
}

/* ==================== LOADING ==================== */
.loading-spinner { text-align: center; padding: 60px; }
.loading-spinner .spinner { font-size: 3rem; animation: spin 1s linear infinite; display: inline-block; }

/* ==================== ANIMATIONS ==================== */
@keyframes fadeInDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
@keyframes slideInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
@keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-10px); } 75% { transform: translateX(10px); } }
@keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.01); } }

/* ==================== FORM ROW ==================== */
.form-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; }

/* ==================== PRINT ==================== */
@media print {
    body { background: white; padding: 0; }
    .planner-card { box-shadow: none; }
    .cta-section, .emi-calculator, .download-buttons, .rating-section, .save-indicator, .offer-banner { display: none !important; }
}

/* ==================== RESPONSIVE ==================== */
@media (max-width: 768px) {
    body { padding: 12px; }
    .header h1 { font-size: 1.8rem; }
    .planner-card { padding: 20px; }
    .step-label { font-size: 0.85rem; } /* Improved from 0.7rem for better readability */
    .step-number { width: 36px; height: 36px; font-size: 0.9rem; } /* Better touch target */

    /* Destination cards - Better 2-line layout */
    .destination-grid { grid-template-columns: 1fr; gap: 16px; }
    .destination-card {
        min-height: 200px;
        padding: 20px;
    }
    .destination-content {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }
    .destination-name {
        font-size: 1.4rem;
        line-height: 1.3;
        margin-bottom: 4px;
    }
    .destination-category {
        font-size: 0.9rem;
        margin-bottom: 8px;
    }

    /* Interest chips - Grid layout with better spacing */
    .interest-chips {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
    }
    .interest-chip {
        min-height: 56px;
        padding: 12px 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        line-height: 1.4;
    }
    .interest-chip .icon {
        font-size: 1.3rem;
        margin-right: 6px;
    }

    /* Combo chips - 2 column grid */
    .combo-chips {
        display: grid;
        grid-template-columns: 1fr;
        gap: 12px;
    }
    .combo-chip {
        min-height: 52px;
        padding: 14px 18px;
        text-align: center;
        line-height: 1.5;
    }

    /* Trip summary - Clearer 2-column layout */
    .trip-summary {
        grid-template-columns: 1fr 1fr;
        gap: 12px;
    }
    .summary-item {
        padding: 18px 16px;
    }
    .summary-label {
        font-size: 0.8rem;
        margin-bottom: 6px;
    }
    .summary-value {
        font-size: 1.1rem;
        line-height: 1.3;
    }

    /* Form inputs - Better spacing */
    .form-group {
        margin-bottom: 20px;
    }
    .form-group label {
        font-size: 0.95rem;
        margin-bottom: 8px;
        display: block;
    }
    .form-group input,
    .form-group select {
        font-size: 1rem;
        padding: 14px 16px;
        line-height: 1.5;
    }

    /* Buttons */
    .button-group { flex-direction: column; gap: 12px; }
    .btn {
        width: 100%;
        min-height: 50px;
        font-size: 1.05rem;
    }

    /* Price display - Better hierarchy */
    .price-row {
        padding: 12px 0;
        line-height: 1.6;
    }
    .price-row span:first-child {
        font-size: 0.95rem;
    }
    .price-row span:last-child {
        font-size: 1.05rem;
        font-weight: 600;
    }

    .packages-grid, .testimonials-grid { grid-template-columns: 1fr; }
    .download-buttons, .cta-section { flex-direction: column; }
    .offer-banner { font-size: 0.9rem; padding: 16px; line-height: 1.6; }
    .currency-converter { flex-direction: column; }
    .price-body, .price-header { padding: 16px 20px; }
    .price-category, .price-row.discount, .price-row.subtotal { margin-left: -20px; margin-right: -20px; padding-left: 20px; padding-right: 20px; }
    .price-total { margin: 20px -20px -16px; padding: 20px; }
    .price-note { margin-left: -20px; margin-right: -20px; }
    .toast-notification { min-width: 280px; max-width: 90%; }
}
</style>
</head>
<body>
<div class="container">
    <!-- NO LOGO IN HEADER -->
    
    <!-- Offer Banner -->
    <div class="offer-banner" id="offerBanner">
        <h3>üéÅ Limited Time Offer - Book Now & Save!</h3>
        <p>Get <strong>5% OFF</strong> on all land packages for Jan-Feb 2026 travel</p>
        <div class="offer-countdown">‚è∞ Offer ends in: <span id="countdown">23:59:59</span></div>
    </div>

    <div class="header">
        <h1>‚úàÔ∏è Plan Your Perfect Trip 2026</h1>
        <p style="font-size: 1.25rem; margin-bottom: 16px;">Create your dream itinerary - <strong style="color: var(--primary);">AI-Powered Smart Suggestions!</strong></p>
        <p style="font-size: 1rem; color: var(--gray-600);">üåç Real prices ‚Ä¢ Smart warnings ‚Ä¢ Interest-based recommendations</p>
        <div class="trust-badges">
            <div class="trust-badge">‚≠ê <strong>4.8/5</strong> (400+ reviews)</div>
            <div class="trust-badge">‚úÖ <strong>10,000+</strong> Happy travelers</div>
            <div class="trust-badge">üéØ <strong>90-98%</strong> Visa success</div>
            <div class="trust-badge">üí≥ <strong>0% EMI</strong> Available</div>
        </div>
    </div>

    <!-- Currency Converter -->
    <div class="currency-converter">
        <h4>üí± Live Exchange Rates (BDT) - Jan 2026:</h4>
        <div class="currency-rates">
            <div class="currency-rate"><span class="flag">üá∫üá∏</span><span>1 USD =</span><span class="rate">‡ß≥122</span></div>
            <div class="currency-rate"><span class="flag">üá∏üá¨</span><span>1 SGD =</span><span class="rate">‡ß≥95</span></div>
            <div class="currency-rate"><span class="flag">üá≤üáæ</span><span>1 MYR =</span><span class="rate">‡ß≥30</span></div>
            <div class="currency-rate"><span class="flag">üáπüá≠</span><span>1 THB =</span><span class="rate">‡ß≥3.89</span></div>
            <div class="currency-rate"><span class="flag">üá¶üá™</span><span>1 AED =</span><span class="rate">‡ß≥33</span></div>
        </div>
    </div>

    <!-- Map -->
    <div class="map-container" id="mapContainer">
        <h3>üó∫Ô∏è Your Trip Route</h3>
        <div id="tripMap"></div>
    </div>

    <!-- Interest Selector -->
    <div class="interest-selector" id="interestSelector">
        <h4>üéØ What type of experience are you looking for?</h4>
        <div class="interest-chips">
            <div class="interest-chip" onclick="selectInterest('beach', this)"><span class="icon">üèñÔ∏è</span> Beach & Relaxation</div>
            <div class="interest-chip" onclick="selectInterest('adventure', this)"><span class="icon">üèîÔ∏è</span> Adventure</div>
            <div class="interest-chip" onclick="selectInterest('culture', this)"><span class="icon">üèõÔ∏è</span> Culture & Heritage</div>
            <div class="interest-chip" onclick="selectInterest('shopping', this)"><span class="icon">üõçÔ∏è</span> Shopping & City</div>
            <div class="interest-chip" onclick="selectInterest('romantic', this)"><span class="icon">üíë</span> Romantic / Honeymoon</div>
            <div class="interest-chip" onclick="selectInterest('family', this)"><span class="icon">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</span> Family Fun</div>
        </div>
    </div>

    <!-- Recommended Combos -->
    <div class="recommended-combos" id="recommendedCombos">
        <h4>üí° Recommended Combos</h4>
        <div class="combo-chips" id="comboChips">
            <div class="combo-chip trending" onclick="selectCombo(['Thailand', 'Malaysia'], 7)">üáπüá≠üá≤üáæ Thailand + Malaysia (7D)</div>
            <div class="combo-chip" onclick="selectCombo(['Singapore', 'Malaysia'], 7)">üá∏üá¨üá≤üáæ Singapore + Malaysia (7D)</div>
            <div class="combo-chip trending" onclick="selectCombo(['Indonesia', 'Singapore'], 8)">üáÆüá©üá∏üá¨ Bali + Singapore (8D)</div>
            <div class="combo-chip" onclick="selectCombo(['Vietnam', 'Thailand'], 10)">üáªüá≥üáπüá≠ Vietnam + Thailand (10D)</div>
        </div>
    </div>

    <!-- Popular Packages -->
    <div class="popular-packages" id="popularPackages">
        <h2>üî• Best-Selling Packages 2026 (Land Only)</h2>
        <p style="text-align: center; color: var(--gray-600); margin-bottom: 24px;">Updated prices for 2026 ‚Ä¢ <span style="color: var(--secondary); font-weight: 600;">5% Early Bird Discount!</span></p>
        <div class="packages-grid">
            <div class="package-card trending" onclick="selectPopularPackage(['Thailand', 'Malaysia'], 7)">
                <span class="package-badge">üèÜ BEST SELLER</span>
                <div class="package-title">üáπüá≠üá≤üáæ Thailand + Malaysia</div>
                <div class="package-details"><span>üìÖ 7 Days / 6 Nights</span><span>‚úàÔ∏è 2 Countries</span></div>
                <div class="package-price"><span class="original">‡ß≥45,000</span>‡ß≥42,750 <small>per person</small></div>
                <ul class="package-highlights">
                    <li>Bangkok + Pattaya + Kuala Lumpur</li>
                    <li>Grand Palace, Petronas Towers</li>
                    <li>Hotel + Transfers included</li>
                </ul>
            </div>

            <div class="package-card" onclick="selectPopularPackage(['Indonesia', 'Singapore'], 8)">
                <span class="package-badge">üå¥ 2026 TRENDING</span>
                <div class="package-title">üáÆüá©üá∏üá¨ Bali + Singapore</div>
                <div class="package-details"><span>üìÖ 8 Days / 7 Nights</span><span>‚úàÔ∏è 2 Countries</span></div>
                <div class="package-price"><span class="original">‡ß≥62,000</span>‡ß≥58,900 <small>per person</small></div>
                <ul class="package-highlights">
                    <li>Ubud + Seminyak + Singapore</li>
                    <li>Rice terraces + Universal Studios</li>
                    <li>Best of nature + city</li>
                </ul>
            </div>

            <div class="package-card" onclick="selectPopularPackage(['Thailand'], 5)">
                <span class="package-badge">üí∞ BUDGET PICK</span>
                <div class="package-title">üáπüá≠ Thailand Explorer</div>
                <div class="package-details"><span>üìÖ 5 Days / 4 Nights</span><span>‚úàÔ∏è 1 Country</span></div>
                <div class="package-price"><span class="original">‡ß≥30,000</span>‡ß≥28,500 <small>per person</small></div>
                <ul class="package-highlights">
                    <li>Bangkok + Pattaya</li>
                    <li>Temples, Beach & Nightlife</li>
                    <li>Perfect first international trip</li>
                </ul>
            </div>

            <div class="package-card" onclick="selectPopularPackage(['Maldives'], 4)">
                <span class="package-badge">üíë HONEYMOON</span>
                <div class="package-title">üá≤üáª Maldives Paradise</div>
                <div class="package-details"><span>üìÖ 4 Days / 3 Nights</span><span>üèùÔ∏è Resort Stay</span></div>
                <div class="package-price"><span class="original">‡ß≥85,000</span>‡ß≥80,750 <small>per person</small></div>
                <ul class="package-highlights">
                    <li>Water Villa accommodation</li>
                    <li>Snorkeling + Dolphin cruise</li>
                    <li>Breakfast included</li>
                </ul>
            </div>

            <div class="package-card" onclick="selectPopularPackage(['Thailand', 'Malaysia', 'Singapore'], 10)">
                <span class="package-badge">üåç GRAND TOUR</span>
                <div class="package-title">üáπüá≠üá≤üáæüá∏üá¨ SEA Triple</div>
                <div class="package-details"><span>üìÖ 10 Days / 9 Nights</span><span>‚úàÔ∏è 3 Countries</span></div>
                <div class="package-price"><span class="original">‡ß≥92,000</span>‡ß≥87,400 <small>per person</small></div>
                <ul class="package-highlights">
                    <li>Bangkok + KL + Singapore</li>
                    <li>Complete SEA experience</li>
                    <li>All visas by goFLY</li>
                </ul>
            </div>

            <div class="package-card" onclick="selectPopularPackage(['Dubai'], 5)">
                <span class="package-badge">üëë LUXURY</span>
                <div class="package-title">üá¶üá™ Dubai Deluxe</div>
                <div class="package-details"><span>üìÖ 5 Days / 4 Nights</span><span>‚úàÔ∏è 1 Country</span></div>
                <div class="package-price"><span class="original">‡ß≥58,000</span>‡ß≥55,100 <small>per person</small></div>
                <ul class="package-highlights">
                    <li>Dubai + Abu Dhabi</li>
                    <li>Burj Khalifa, Desert Safari</li>
                    <li>4-star hotel included</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Testimonials -->
    <div class="testimonials-section" id="testimonials">
        <h2>üí¨ Recent Traveler Reviews (2024-25)</h2>
        <div class="testimonials-grid">
            <div class="testimonial-card">
                <div class="testimonial-header">
                    <div class="testimonial-avatar">RS</div>
                    <div class="testimonial-info"><h4>Rafiq & Sabrina</h4><p>Dhaka ‚Ä¢ Verified Purchase</p></div>
                </div>
                <div class="testimonial-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                <div class="testimonial-text">"Thailand + Malaysia was PERFECT for our honeymoon! The warning about 3 countries being too rushed was spot on."</div>
                <div class="testimonial-trip">üáπüá≠üá≤üáæ Thailand + Malaysia ‚Ä¢ 7 Days ‚Ä¢ Nov 2024</div>
            </div>

            <div class="testimonial-card">
                <div class="testimonial-header">
                    <div class="testimonial-avatar">KH</div>
                    <div class="testimonial-info"><h4>Kamal Hossain</h4><p>Chittagong ‚Ä¢ Verified Purchase</p></div>
                </div>
                <div class="testimonial-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                <div class="testimonial-text">"The add-ons feature helped me customize exactly what I wanted. Desert Safari in Dubai was amazing!"</div>
                <div class="testimonial-trip">üá¶üá™ Dubai Deluxe ‚Ä¢ 5 Days ‚Ä¢ Dec 2024</div>
            </div>

            <div class="testimonial-card">
                <div class="testimonial-header">
                    <div class="testimonial-avatar">FA</div>
                    <div class="testimonial-info"><h4>Fatima Akter</h4><p>Sylhet ‚Ä¢ Verified Purchase</p></div>
                </div>
                <div class="testimonial-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                <div class="testimonial-text">"Bali + Singapore was the BEST combo! The trip planner suggested it when I selected 'Beach + City' interest."</div>
                <div class="testimonial-trip">üáÆüá©üá∏üá¨ Bali + Singapore ‚Ä¢ 8 Days ‚Ä¢ Jan 2025</div>
            </div>
        </div>
    </div>

    <!-- Main Planner Card -->
    <div class="planner-card">
        <div class="step-indicator" id="stepIndicator">
            <div class="step active" data-step="1"><div class="step-number">1</div><div class="step-label">Destinations</div></div>
            <div class="step" data-step="2"><div class="step-number">2</div><div class="step-label">Details</div></div>
            <div class="step" data-step="3"><div class="step-number">3</div><div class="step-label">Add-ons</div></div>
            <div class="step" data-step="4"><div class="step-number">4</div><div class="step-label">Contact</div></div>
        </div>

        <!-- Step 1: Destinations -->
        <div class="form-section active" data-section="1">
            <div class="form-group">
                <label>üåç Select Your Destination(s) <span style="font-weight: 400; color: var(--gray-500);">(Max 4)</span></label>
                <div class="destination-grid" id="destinationGrid"></div>
            </div>

            <!-- Smart Warning -->
            <div class="smart-warning" id="smartWarning">
                <h4>‚ö†Ô∏è Trip Duration Warning</h4>
                <p id="warningText"></p>
                <div class="suggestion-buttons">
                    <button class="btn-suggest btn-extend" onclick="extendDuration()">‚úÖ Extend Days</button>
                    <button class="btn-suggest btn-reduce" onclick="reduceDestinations()">üìç Reduce Countries</button>
                    <button class="btn-suggest btn-keep" onclick="keepCurrent()">Keep Current</button>
                </div>
            </div>

            <div id="selectedDestinationsBox" style="display: none;" class="selected-destinations">
                <h4>‚úÖ Selected Destinations (<span id="selectedCount">0</span>)</h4>
                <div class="selected-list" id="selectedList"></div>
                <div id="travelTimeInfo" style="margin-top: 12px; font-size: 0.9rem; color: var(--gray-600);"></div>
            </div>

            <div class="button-group">
                <button class="btn btn-primary" onclick="nextStep()" id="step1Next" disabled>Continue ‚Üí</button>
            </div>
        </div>

        <!-- Step 2: Trip Details -->
        <div class="form-section" data-section="2">
            <div class="form-group">
                <label for="duration">üìÖ Trip Duration</label>
                <select id="duration" required onchange="updateDurationNote()" aria-label="Select trip duration in days">
                    <option value="">Select duration</option>
                    <option value="3">3 Days / 2 Nights</option>
                    <option value="4">4 Days / 3 Nights</option>
                    <option value="5">5 Days / 4 Nights</option>
                    <option value="7">7 Days / 6 Nights ‚≠ê Popular</option>
                    <option value="10">10 Days / 9 Nights ‚≠ê Recommended</option>
                    <option value="14">14 Days / 13 Nights</option>
                </select>
                <div id="durationNote" style="margin-top: 12px; padding: 16px; background: linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%); border-radius: 12px; font-size: 0.9rem; display: none; border-left: 4px solid var(--primary);"></div>
                <div id="durationWarning" style="margin-top: 8px; padding: 12px; background: #fef3c7; border-radius: 8px; font-size: 0.9rem; color: #92400e; display: none;"></div>
            </div>

            <div class="form-group">
                <label for="adults">üë• Number of Travelers</label>
                <div class="form-row">
                    <div>
                        <input type="number" id="adults" placeholder="Adults (12+)" min="1" max="20" value="2" required aria-label="Number of adults">
                        <small style="color: var(--gray-500);">Full price</small>
                    </div>
                    <div>
                        <input type="number" id="children" placeholder="Children (2-11)" min="0" max="10" value="0" aria-label="Number of children">
                        <small style="color: var(--primary);">50% discount on hotels</small>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label>üóìÔ∏è Preferred Travel Date</label>
                <input type="date" id="travelDate" required onchange="checkPeakSeason2026()">
                <div class="peak-season-2026" id="peakSeason2026" style="display: none;">
                    <h5>üî• Peak Season Dates 2026 (+25% hotel rates)</h5>
                    <div class="peak-dates">
                        <div class="peak-date"><span class="date">üßß Chinese New Year</span><br>Feb 17-23</div>
                        <div class="peak-date"><span class="date">üí¶ Songkran</span><br>Apr 13-17</div>
                        <div class="peak-date"><span class="date">üéÑ Christmas/NY</span><br>Dec 20 - Jan 5</div>
                        <div class="peak-date"><span class="date">‚òÄÔ∏è Summer</span><br>Jun 15 - Aug 31</div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label>üí∞ Budget Range</label>
                <div class="budget-options">
                    <div class="budget-option" onclick="selectBudget('economy', this)">
                        <div class="icon">üí∞</div>
                        <h3>Economy</h3>
                        <p>3‚òÖ Hotels, Budget-friendly</p>
                    </div>
                    <div class="budget-option popular selected" onclick="selectBudget('standard', this)">
                        <div class="icon">‚≠ê</div>
                        <h3>Standard</h3>
                        <p>4‚òÖ Hotels, Best Value</p>
                    </div>
                    <div class="budget-option" onclick="selectBudget('premium', this)">
                        <div class="icon">üëë</div>
                        <h3>Premium</h3>
                        <p>5‚òÖ Hotels, Luxury</p>
                    </div>
                </div>
            </div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="prevStep()">‚Üê Back</button>
                <button class="btn btn-primary" onclick="nextStep()">Continue ‚Üí</button>
            </div>
        </div>

        <!-- Step 3: Add-ons -->
        <div class="form-section" data-section="3">
            <div class="addons-section">
                <h4>üéØ Optional City Tours & Activities</h4>
                <p style="color: var(--gray-600); font-size: 0.9rem; margin-bottom: 16px;">Select tours you want to add. Prices are per person.</p>
                <div class="addons-grid" id="addonsGrid"></div>
                <div class="addons-total">
                    <span class="total-label">Selected Tours Total:</span>
                    <span class="total-amount" id="addonsTotal">‡ß≥0</span>
                </div>
            </div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="prevStep()">‚Üê Back</button>
                <button class="btn btn-primary" onclick="nextStep()">Continue ‚Üí</button>
            </div>
        </div>

        <!-- Step 4: Contact -->
        <div class="form-section" data-section="4">
            <div class="form-group">
                <label for="userName">üë§ Your Name *</label>
                <input type="text" id="userName" placeholder="Enter your full name" required aria-label="Your full name" aria-describedby="nameError">
                <div class="error-message" id="nameError">Please enter your name</div>
            </div>

            <div class="form-group">
                <label for="userPhone">üì± Mobile Number *</label>
                <input type="tel" id="userPhone" placeholder="01XXXXXXXXX" maxlength="11" required aria-label="Your mobile number" aria-describedby="phoneError">
                <div class="error-message" id="phoneError">Please enter a valid 11-digit number starting with 01</div>
            </div>

            <div class="form-group">
                <label for="userEmail">‚úâÔ∏è Email (Optional)</label>
                <input type="email" id="userEmail" placeholder="your@email.com" aria-label="Your email address (optional)" aria-describedby="emailError">
                <div class="error-message" id="emailError">Please enter a valid email</div>
            </div>

            <div class="form-group">
                <label>üìù Special Requests (Optional)</label>
                <input type="text" id="specialNotes" placeholder="Any special requirements?">
            </div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="prevStep()">‚Üê Back</button>
                <button class="btn btn-primary" onclick="generateItinerary()">‚ú® Generate My Itinerary</button>
            </div>
        </div>

        <!-- Results -->
        <div class="itinerary-result" id="itineraryResult"></div>
    </div>
</div>

<!-- Save Indicator -->
<div class="save-indicator" id="saveIndicator">üíæ Auto-saved</div>

<!-- Toast Notification -->
<div class="toast-notification" id="toastNotification">
    <span class="toast-icon" id="toastIcon"></span>
    <span class="toast-message" id="toastMessage"></span>
</div>

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
// ==================== TRAVEL TIME BETWEEN COUNTRIES (NEW!) ====================
const travelTimes = {
    'Thailand-Malaysia': { hours: 4, description: 'Flight: 2h + Airport time: 2h', fullDay: false },
    'Thailand-Singapore': { hours: 5, description: 'Flight: 2.5h + Airport time: 2.5h', fullDay: false },
    'Thailand-Indonesia': { hours: 6, description: 'Flight: 3.5h + Airport time: 2.5h', fullDay: true },
    'Thailand-Vietnam': { hours: 4, description: 'Flight: 1.5h + Airport time: 2.5h', fullDay: false },
    'Thailand-Dubai': { hours: 8, description: 'Flight: 6h + Airport time: 2h', fullDay: true },
    'Thailand-Maldives': { hours: 7, description: 'Flight: 4.5h + Airport time: 2.5h', fullDay: true },
    'Thailand-Nepal': { hours: 6, description: 'Flight: 3.5h + Airport time: 2.5h', fullDay: true },
    'Thailand-Sri Lanka': { hours: 6, description: 'Flight: 3.5h + Airport time: 2.5h', fullDay: true },
    'Malaysia-Singapore': { hours: 2, description: 'Bus/Train: 1h or Flight: 1h', fullDay: false },
    'Malaysia-Indonesia': { hours: 5, description: 'Flight: 2.5h + Airport time: 2.5h', fullDay: false },
    'Malaysia-Vietnam': { hours: 5, description: 'Flight: 2.5h + Airport time: 2.5h', fullDay: false },
    'Malaysia-Dubai': { hours: 9, description: 'Flight: 7h + Airport time: 2h', fullDay: true },
    'Malaysia-Maldives': { hours: 7, description: 'Flight: 4.5h + Airport time: 2.5h', fullDay: true },
    'Singapore-Indonesia': { hours: 4, description: 'Flight: 2.5h + Airport time: 1.5h', fullDay: false },
    'Singapore-Vietnam': { hours: 5, description: 'Flight: 2h + Airport time: 3h', fullDay: false },
    'Singapore-Dubai': { hours: 9, description: 'Flight: 7h + Airport time: 2h', fullDay: true },
    'Singapore-Maldives': { hours: 6, description: 'Flight: 4h + Airport time: 2h', fullDay: true },
    'Indonesia-Vietnam': { hours: 6, description: 'Flight: 4h + Airport time: 2h', fullDay: true },
    'Indonesia-Dubai': { hours: 10, description: 'Flight: 8h + Airport time: 2h', fullDay: true },
    'Vietnam-Dubai': { hours: 9, description: 'Flight: 7h + Airport time: 2h', fullDay: true },
    'Dubai-Maldives': { hours: 6, description: 'Flight: 4h + Airport time: 2h', fullDay: true },
    'Nepal-Thailand': { hours: 6, description: 'Flight: 3.5h + Airport time: 2.5h', fullDay: true },
    'Sri Lanka-Maldives': { hours: 3, description: 'Flight: 1.5h + Airport time: 1.5h', fullDay: false },
    'Sri Lanka-Singapore': { hours: 6, description: 'Flight: 4h + Airport time: 2h', fullDay: true },
    'Philippines-Singapore': { hours: 5, description: 'Flight: 3.5h + Airport time: 1.5h', fullDay: false },
    'Philippines-Malaysia': { hours: 5, description: 'Flight: 3.5h + Airport time: 1.5h', fullDay: false }
};

// Get travel time between two countries
function getTravelTime(from, to) {
    const key1 = `${from}-${to}`;
    const key2 = `${to}-${from}`;
    return travelTimes[key1] || travelTimes[key2] || { hours: 6, description: 'Estimated travel time', fullDay: true };
}

// ==================== MINIMUM DAYS PER COUNTRY (NEW!) ====================
const minDaysPerCountry = {
    'Thailand': 4,
    'Malaysia': 4,
    'Singapore': 3,
    'Indonesia': 5,  // Bali internal travel takes time
    'Maldives': 3,
    'Dubai': 4,
    'Vietnam': 5,
    'Nepal': 5,
    'Sri Lanka': 5,
    'Philippines': 5
};

// ==================== CITY HIGHLIGHTS (NEW!) ====================
const cityHighlights = {
    'Thailand': {
        'Bangkok': ['Grand Palace', 'Wat Pho', 'Chatuchak Market', 'Khao San Road'],
        'Pattaya': ['Coral Island', 'Walking Street', 'Nong Nooch Garden', 'Alcazar Show']
    },
    'Malaysia': {
        'Kuala Lumpur': ['Petronas Towers', 'Batu Caves', 'KL Tower', 'Jalan Alor'],
        'Genting Highlands': ['Theme Park', 'Casino', 'Skyway Cable Car']
    },
    'Singapore': {
        'Singapore': ['Marina Bay Sands', 'Gardens by the Bay', 'Sentosa', 'Orchard Road', 'Universal Studios']
    },
    'Indonesia': {
        'Seminyak': ['Beach Club', 'Sunset', 'Shopping', 'Tanah Lot Temple'],
        'Ubud': ['Rice Terraces', 'Monkey Forest', 'Art Markets', 'Tirta Empul']
    },
    'Dubai': {
        'Dubai': ['Burj Khalifa', 'Dubai Mall', 'Palm Jumeirah', 'Desert Safari'],
        'Abu Dhabi': ['Grand Mosque', 'Louvre Museum', 'Ferrari World']
    },
    'Maldives': {
        'Maldives Resort': ['Snorkeling', 'Dolphin Watching', 'Water Sports', 'Sunset Cruise']
    },
    'Vietnam': {
        'Hanoi': ['Old Quarter', 'Ho Chi Minh Mausoleum', 'Temple of Literature'],
        'Ha Long Bay': ['Cruise', 'Caves', 'Kayaking', 'Floating Villages']
    },
    'Nepal': {
        'Kathmandu': ['Pashupatinath', 'Boudhanath', 'Swayambhunath', 'Durbar Square'],
        'Pokhara': ['Phewa Lake', 'Sarangkot Sunrise', 'Peace Pagoda']
    },
    'Sri Lanka': {
        'Colombo': ['Gangaramaya Temple', 'Galle Face', 'Pettah Market'],
        'Kandy': ['Temple of Tooth', 'Kandy Lake', 'Cultural Show']
    },
    'Philippines': {
        'Manila': ['Intramuros', 'Rizal Park', 'Fort Santiago'],
        'Boracay': ['White Beach', 'Island Hopping', 'Ariel\'s Point']
    }
};

// ==================== DESTINATION DATABASE ====================
const destinations = {
    'Thailand': {
        flag: 'üáπüá≠',
        image: 'https://images.unsplash.com/photo-1508009603885-50cf7c579365?w=800&q=80',
        category: 'Culture & Beach',
        tags: ['beach', 'culture', 'shopping', 'family'],
        coordinates: [13.7563, 100.5018],
        visaGuideUrl: 'https://goflybd.com/thailand-visa-from-bangladesh/',
        visaType: 'Tourist Visa (95% success)',
        minDays: 4,
        hotelBudget: 5000,
        hotelStandard: 9500,
        hotelLuxury: 18000,
        transfers: {
            'Airport ‚Üî Hotel': 7000,
            'Bangkok ‚Üî Pattaya': 11000
        },
        cityTours: [
            { id: 'th_temple', name: 'Grand Palace + Wat Pho + Wat Arun', desc: 'Half day temple tour', price: 3500, duration: '5 hours' },
            { id: 'th_floating', name: 'Floating Market Tour', desc: 'Damnoen Saduak + Train Market', price: 3500, duration: '6 hours' },
            { id: 'th_coral', name: 'Coral Island (Koh Larn)', desc: 'Speedboat + lunch + activities', price: 4500, duration: 'Full day' },
            { id: 'th_alcazar', name: 'Alcazar Cabaret Show', desc: 'Famous Pattaya show', price: 2500, duration: '2 hours' },
            { id: 'th_safari', name: 'Safari World Bangkok', desc: 'Zoo + Marine Park', price: 4000, duration: 'Full day' },
            { id: 'th_cruise', name: 'Chao Phraya Dinner Cruise', desc: 'Buffet dinner on river', price: 4000, duration: '2.5 hours' }
        ],
        cities: [
            { name: 'Bangkok', days: 3 },
            { name: 'Pattaya', days: 2 }
        ]
    },
    'Malaysia': {
        flag: 'üá≤üáæ',
        image: 'https://images.unsplash.com/photo-1596422846543-75c6fc197f07?w=800&q=80',
        category: 'Shopping & Culture',
        tags: ['shopping', 'culture', 'family'],
        coordinates: [3.139, 101.6869],
        visaGuideUrl: 'https://goflybd.com/malaysia-visa-from-bangladesh/',
        visaType: 'eVisa (98% success)',
        minDays: 4,
        hotelBudget: 6000,
        hotelStandard: 11000,
        hotelLuxury: 22000,
        transfers: {
            'Airport ‚Üî Hotel': 9000
        },
        cityTours: [
            { id: 'my_city', name: 'KL City Tour + Batu Caves', desc: 'Petronas view + Batu Caves', price: 3000, duration: '5 hours' },
            { id: 'my_genting', name: 'Genting Highlands Day Trip', desc: 'Cable car + theme park', price: 5500, duration: 'Full day' },
            { id: 'my_sunway', name: 'Sunway Lagoon Theme Park', desc: 'Water + theme park', price: 4500, duration: 'Full day' },
            { id: 'my_firefly', name: 'Firefly Tour', desc: 'Magical night river cruise', price: 4500, duration: '4 hours' }
        ],
        cities: [
            { name: 'Kuala Lumpur', days: 3 },
            { name: 'Genting Highlands', days: 1 }
        ]
    },
    'Singapore': {
        flag: 'üá∏üá¨',
        image: 'https://images.unsplash.com/photo-1525625293386-3f8f99389edd?w=800&q=80',
        category: 'City Experience',
        tags: ['shopping', 'family', 'culture'],
        coordinates: [1.3521, 103.8198],
        visaGuideUrl: 'https://goflybd.com/singapore-visa-from-bangladesh/',
        visaType: 'Tourist Visa (95% success)',
        minDays: 3,
        hotelBudget: 13000,
        hotelStandard: 24000,
        hotelLuxury: 45000,
        transfers: {
            'Airport ‚Üî Hotel': 8000
        },
        cityTours: [
            { id: 'sg_uss', name: 'Universal Studios Singapore', desc: 'Full day theme park', price: 9000, duration: 'Full day' },
            { id: 'sg_gardens', name: 'Gardens by the Bay', desc: 'Supertree + 2 domes', price: 4500, duration: '4 hours' },
            { id: 'sg_sentosa', name: 'Sentosa Island Day Pass', desc: 'Cable car + attractions', price: 5500, duration: 'Full day' },
            { id: 'sg_zoo', name: 'Singapore Zoo + Night Safari', desc: 'Day zoo + night', price: 7500, duration: '8 hours' },
            { id: 'sg_city', name: 'Singapore City Tour', desc: 'Merlion + Marina Bay', price: 3000, duration: '4 hours' }
        ],
        cities: [
            { name: 'Singapore', days: 4 }
        ]
    },
    'Indonesia': {
        flag: 'üáÆüá©',
        image: 'https://images.unsplash.com/photo-1555400038-63f5ba517a47?w=800&q=80',
        category: 'Beach & Culture',
        tags: ['beach', 'culture', 'adventure', 'romantic'],
        coordinates: [-8.4095, 115.1889],
        visaGuideUrl: 'https://goflybd.com/indonesia-visa-for-bangladeshi/',
        visaType: 'Visa on Arrival',
        minDays: 5,
        hotelBudget: 4500,
        hotelStandard: 10000,
        hotelLuxury: 20000,
        transfers: {
            'Airport ‚Üî Hotel': 5000,
            'Seminyak ‚Üî Ubud': 7000
        },
        cityTours: [
            { id: 'id_ubud', name: 'Ubud Full Day Tour', desc: 'Rice terraces + Monkey forest', price: 4000, duration: 'Full day' },
            { id: 'id_temple', name: 'Tanah Lot + Uluwatu Sunset', desc: '2 iconic temples', price: 4500, duration: 'Full day' },
            { id: 'id_nusa', name: 'Nusa Penida Day Trip', desc: 'Kelingking beach', price: 6500, duration: 'Full day' },
            { id: 'id_swing', name: 'Bali Swing Experience', desc: 'Jungle swing', price: 3500, duration: '3 hours' },
            { id: 'id_rafting', name: 'Ayung River Rafting', desc: 'White water adventure', price: 5000, duration: '4 hours' }
        ],
        cities: [
            { name: 'Seminyak', days: 3 },
            { name: 'Ubud', days: 3 }
        ]
    },
    'Dubai': {
        flag: 'üá¶üá™',
        image: 'https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=800&q=80',
        category: 'Luxury & Shopping',
        tags: ['shopping', 'family', 'adventure'],
        coordinates: [25.2048, 55.2708],
        visaGuideUrl: 'https://goflybd.com/dubai-visa-from-bangladesh/',
        visaType: 'Tourist Visa (95% success)',
        minDays: 4,
        hotelBudget: 11000,
        hotelStandard: 20000,
        hotelLuxury: 38000,
        transfers: {
            'Airport ‚Üî Hotel': 8000
        },
        cityTours: [
            { id: 'ae_burj', name: 'Burj Khalifa At The Top', desc: '124th floor observation', price: 6000, duration: '2 hours' },
            { id: 'ae_safari', name: 'Desert Safari + BBQ Dinner', desc: 'Dune bashing + camel + show', price: 5500, duration: '6 hours' },
            { id: 'ae_city', name: 'Dubai City Tour', desc: 'Old & New Dubai', price: 3500, duration: '5 hours' },
            { id: 'ae_abudhabi', name: 'Abu Dhabi Day Trip', desc: 'Grand Mosque + Emirates Palace', price: 6000, duration: 'Full day' },
            { id: 'ae_aqua', name: 'Aquaventure Waterpark', desc: 'Atlantis waterpark', price: 7000, duration: 'Full day' },
            { id: 'ae_cruise', name: 'Dhow Cruise Dinner', desc: 'Marina dinner cruise', price: 4500, duration: '2 hours' }
        ],
        cities: [
            { name: 'Dubai', days: 4 },
            { name: 'Abu Dhabi', days: 1 }
        ]
    },
    'Maldives': {
        flag: 'üá≤üáª',
        image: 'https://images.unsplash.com/photo-1573843981267-be1999ff37cd?w=800&q=80',
        category: 'Beach Paradise',
        tags: ['beach', 'romantic'],
        coordinates: [3.2028, 73.2207],
        visaGuideUrl: 'https://goflybd.com/tour-packages-from-bangladesh/maldives/',
        visaType: 'Visa on Arrival (Free)',
        minDays: 3,
        hotelBudget: 18000,
        hotelStandard: 40000,
        hotelLuxury: 85000,
        transfers: {
            'Airport ‚Üî Resort (Speedboat)': 15000
        },
        cityTours: [
            { id: 'mv_snorkel', name: 'Snorkeling Trip', desc: '3 spots + equipment', price: 5000, duration: '4 hours' },
            { id: 'mv_dolphin', name: 'Dolphin Cruise', desc: 'Sunset dolphin watching', price: 6000, duration: '2 hours' },
            { id: 'mv_diving', name: 'Scuba Diving (2 dives)', desc: 'Certified instructor', price: 18000, duration: '4 hours' },
            { id: 'mv_sandbank', name: 'Sandbank Picnic', desc: 'Private sandbank + lunch', price: 8000, duration: '4 hours' },
            { id: 'mv_romantic', name: 'Romantic Beach Dinner', desc: 'Private candlelit dinner', price: 15000, duration: '2 hours' }
        ],
        cities: [
            { name: 'Maldives Resort', days: 4 }
        ]
    },
    'Vietnam': {
        flag: 'üáªüá≥',
        image: 'https://images.unsplash.com/photo-1583417319070-4a69db38a482?w=800&q=80',
        category: 'Culture & Food',
        tags: ['culture', 'adventure'],
        coordinates: [21.0285, 105.8542],
        visaGuideUrl: 'https://goflybd.com/vietnam-visa-from-bangladesh/',
        visaType: 'eVisa Online',
        minDays: 5,
        hotelBudget: 4000,
        hotelStandard: 8500,
        hotelLuxury: 17000,
        transfers: {
            'Airport ‚Üî Hotel': 4000
        },
        cityTours: [
            { id: 'vn_hanoi', name: 'Hanoi City Tour', desc: 'Old Quarter + Ho Chi Minh', price: 3000, duration: '5 hours' },
            { id: 'vn_halong', name: 'Ha Long Bay Day Cruise', desc: 'Cruise + caves + kayaking', price: 8000, duration: 'Full day' },
            { id: 'vn_ninh', name: 'Ninh Binh Day Trip', desc: 'Tam Coc + Mua Cave', price: 5000, duration: 'Full day' },
            { id: 'vn_street', name: 'Street Food Tour', desc: '3-hour walking food tour', price: 2500, duration: '3 hours' }
        ],
        cities: [
            { name: 'Hanoi', days: 2 },
            { name: 'Ha Long Bay', days: 2 },
            { name: 'Ho Chi Minh City', days: 2 }
        ]
    },
    'Nepal': {
        flag: 'üá≥üáµ',
        image: 'https://images.unsplash.com/photo-1609137144813-7d9921338f24?w=800&q=80',
        category: 'Adventure & Nature',
        tags: ['adventure', 'culture'],
        coordinates: [27.7172, 85.324],
        visaGuideUrl: 'https://goflybd.com/nepal-visa-from-bangladesh/',
        visaType: 'Online eVisa',
        minDays: 5,
        hotelBudget: 4000,
        hotelStandard: 8000,
        hotelLuxury: 15000,
        transfers: {
            'Airport ‚Üî Hotel': 3000,
            'Kathmandu ‚Üî Pokhara (Bus)': 5000
        },
        cityTours: [
            { id: 'np_ktm', name: 'Kathmandu Valley Sightseeing', desc: 'Pashupatinath + Boudhanath', price: 3500, duration: 'Full day' },
            { id: 'np_nagarkot', name: 'Nagarkot Sunrise Tour', desc: 'Himalayan sunrise', price: 3000, duration: '5 hours' },
            { id: 'np_pokhara', name: 'Pokhara Sightseeing', desc: 'Phewa Lake + caves', price: 3000, duration: 'Full day' },
            { id: 'np_everest', name: 'Everest Scenic Flight', desc: '1-hour mountain flight', price: 22000, duration: '1 hour' },
            { id: 'np_paragliding', name: 'Paragliding Pokhara', desc: '30-min tandem flight', price: 8000, duration: '2 hours' }
        ],
        cities: [
            { name: 'Kathmandu', days: 2 },
            { name: 'Pokhara', days: 3 }
        ]
    },
    'Sri Lanka': {
        flag: 'üá±üá∞',
        image: 'https://images.unsplash.com/photo-1594474420394-1e50fdcc0ec0?w=800&q=80',
        category: 'Heritage & Beach',
        tags: ['beach', 'culture', 'adventure'],
        coordinates: [6.9271, 79.8612],
        visaGuideUrl: 'https://goflybd.com/sri-lanka-visa-from-bangladesh/',
        visaType: 'eTA Online',
        minDays: 5,
        hotelBudget: 5000,
        hotelStandard: 10000,
        hotelLuxury: 20000,
        transfers: {
            'Airport ‚Üî Hotel': 6000,
            'Colombo ‚Üî Kandy': 16000
        },
        cityTours: [
            { id: 'lk_colombo', name: 'Colombo City Tour', desc: 'Gangaramaya + Galle Face', price: 2500, duration: '4 hours' },
            { id: 'lk_kandy', name: 'Kandy Temple + Cultural Show', desc: 'Temple of Tooth + dance', price: 3500, duration: '5 hours' },
            { id: 'lk_sigiriya', name: 'Sigiriya Rock Fortress', desc: 'Lion Rock + Dambulla', price: 5000, duration: 'Full day' },
            { id: 'lk_whale', name: 'Whale Watching Mirissa', desc: 'Blue whale spotting', price: 8000, duration: '5 hours' },
            { id: 'lk_safari', name: 'Yala Safari', desc: 'Leopard spotting', price: 12000, duration: 'Full day' }
        ],
        cities: [
            { name: 'Colombo', days: 1 },
            { name: 'Kandy', days: 2 },
            { name: 'Ella', days: 2 }
        ]
    },
    'Philippines': {
        flag: 'üáµüá≠',
        image: 'https://images.unsplash.com/photo-1621414050345-53db43f7e7ab?w=800&q=80',
        category: 'Island Hopping',
        tags: ['beach', 'adventure'],
        coordinates: [14.5995, 120.9842],
        visaGuideUrl: 'https://goflybd.com/philippines-visa-from-bangladesh/',
        visaType: 'Tourist Visa',
        minDays: 5,
        hotelBudget: 4500,
        hotelStandard: 9500,
        hotelLuxury: 18000,
        transfers: {
            'Airport ‚Üî Hotel': 5000
        },
        cityTours: [
            { id: 'ph_manila', name: 'Manila City Tour', desc: 'Intramuros + Rizal Park', price: 3000, duration: '5 hours' },
            { id: 'ph_island', name: 'Boracay Island Hopping', desc: '3 islands + snorkeling', price: 4000, duration: 'Full day' },
            { id: 'ph_underground', name: 'Underground River Tour', desc: 'UNESCO World Heritage', price: 6500, duration: 'Full day' },
            { id: 'ph_sunset', name: 'Sunset Paraw Sailing', desc: 'Traditional boat cruise', price: 2500, duration: '2 hours' }
        ],
        cities: [
            { name: 'Manila', days: 1 },
            { name: 'Boracay', days: 4 }
        ]
    }
};

// ==================== GLOBAL VARIABLES ====================
let currentStep = 1;
let selectedDestinations = [];
let selectedBudget = 'standard';
let selectedInterest = null;
let selectedAddons = [];
let tripData = {};
let map = null;
let markers = [];
let isPeakSeason = false;

// ==================== INITIALIZATION ====================
window.onload = function() {
    renderDestinations();
    setMinDate();
    loadProgress();
    startCountdown();
    initMap();
    sendHeightToParent();
};

// ==================== COUNTDOWN TIMER ====================
let countdownInterval = null;
function startCountdown() {
    const countdownEl = document.getElementById('countdown');
    if (!countdownEl) return;

    // Clear existing interval to prevent memory leak
    if (countdownInterval) clearInterval(countdownInterval);

    let hours = 23, mins = 59, secs = 59;

    countdownInterval = setInterval(() => {
        secs--;
        if (secs < 0) { secs = 59; mins--; }
        if (mins < 0) { mins = 59; hours--; }
        if (hours < 0) { hours = 23; }
        countdownEl.textContent = `${hours.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
    }, 1000);
}

// Cleanup on page unload
window.addEventListener('beforeunload', () => {
    if (countdownInterval) clearInterval(countdownInterval);
});

// ==================== MAP ====================
function initMap() {
    try {
        // Check if Leaflet library loaded
        if (typeof L === 'undefined') {
            console.error('Leaflet library not loaded');
            document.getElementById('mapContainer').style.display = 'none';
            return;
        }

        map = L.map('tripMap').setView([15, 100], 3);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '¬© OpenStreetMap',
            errorTileUrl: 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==' // Transparent fallback
        }).addTo(map);
    } catch (error) {
        console.error('Map initialization failed:', error);
        const mapContainer = document.getElementById('mapContainer');
        if (mapContainer) {
            mapContainer.innerHTML = '<p style="text-align:center;color:#64748b;padding:20px;">Map temporarily unavailable</p>';
        }
    }
}

function updateMap() {
    markers.forEach(m => map.removeLayer(m));
    markers = [];
    
    if (selectedDestinations.length === 0) {
        document.getElementById('mapContainer').classList.remove('show');
        return;
    }
    
    document.getElementById('mapContainer').classList.add('show');
    
    const coords = [];
    selectedDestinations.forEach((destName, index) => {
        const dest = destinations[destName];
        const marker = L.marker(dest.coordinates)
            .addTo(map)
            .bindPopup(`<b>${index + 1}. ${dest.flag} ${destName}</b><br>Min: ${dest.minDays} days`);
        markers.push(marker);
        coords.push(dest.coordinates);
    });
    
    if (coords.length > 1) {
        const polyline = L.polyline(coords, {color: '#10b981', weight: 3, dashArray: '10, 10'}).addTo(map);
        markers.push(polyline);
        map.fitBounds(polyline.getBounds(), {padding: [50, 50]});
    } else if (coords.length === 1) {
        map.setView(coords[0], 5);
    }
    
    setTimeout(() => map.invalidateSize(), 100);
}

// ==================== INTEREST SELECTION ====================
function selectInterest(interest, element) {
    document.querySelectorAll('.interest-chip').forEach(chip => chip.classList.remove('selected'));
    element.classList.add('selected');
    selectedInterest = interest;
    
    document.querySelectorAll('.destination-card').forEach(card => card.classList.remove('recommended'));
    
    Object.keys(destinations).forEach(name => {
        const dest = destinations[name];
        if (dest.tags && dest.tags.includes(interest)) {
            const card = document.querySelector(`[data-name="${name}"]`);
            if (card) card.classList.add('recommended');
        }
    });
    
    updateComboSuggestions(interest);
}

function updateComboSuggestions(interest) {
    const combos = {
        beach: [
            { dests: ['Thailand', 'Malaysia'], days: 8, label: 'üáπüá≠üá≤üáæ Thailand + Malaysia (8D)' },
            { dests: ['Indonesia'], days: 6, label: 'üáÆüá© Bali Paradise (6D)' },
            { dests: ['Maldives'], days: 4, label: 'üá≤üáª Maldives Escape (4D)', trending: true }
        ],
        adventure: [
            { dests: ['Nepal'], days: 7, label: 'üá≥üáµ Nepal Adventure (7D)', trending: true },
            { dests: ['Indonesia'], days: 6, label: 'üáÆüá© Bali Active (6D)' },
            { dests: ['Sri Lanka'], days: 7, label: 'üá±üá∞ Sri Lanka Explorer (7D)' }
        ],
        culture: [
            { dests: ['Vietnam'], days: 7, label: 'üáªüá≥ Vietnam Heritage (7D)', trending: true },
            { dests: ['Thailand'], days: 5, label: 'üáπüá≠ Thailand Heritage (5D)' },
            { dests: ['Sri Lanka'], days: 7, label: 'üá±üá∞ Sri Lanka Culture (7D)' }
        ],
        shopping: [
            { dests: ['Singapore', 'Malaysia'], days: 7, label: 'üá∏üá¨üá≤üáæ Singapore + Malaysia (7D)', trending: true },
            { dests: ['Dubai'], days: 5, label: 'üá¶üá™ Dubai Shopping (5D)' },
            { dests: ['Thailand'], days: 5, label: 'üáπüá≠ Bangkok Shopping (5D)' }
        ],
        romantic: [
            { dests: ['Maldives'], days: 5, label: 'üá≤üáª Maldives Honeymoon (5D)', trending: true },
            { dests: ['Indonesia'], days: 6, label: 'üáÆüá© Bali Romance (6D)' },
            { dests: ['Thailand'], days: 6, label: 'üáπüá≠ Thailand Romance (6D)' }
        ],
        family: [
            { dests: ['Singapore', 'Malaysia'], days: 7, label: 'üá∏üá¨üá≤üáæ Singapore + Malaysia (7D)', trending: true },
            { dests: ['Thailand'], days: 6, label: 'üáπüá≠ Thailand Family Fun (6D)' },
            { dests: ['Dubai'], days: 5, label: 'üá¶üá™ Dubai Family (5D)' }
        ]
    };
    
    const selectedCombos = combos[interest] || combos.beach;
    const container = document.getElementById('comboChips');
    
    container.innerHTML = selectedCombos.map(combo => `
        <div class="combo-chip ${combo.trending ? 'trending' : ''}" onclick="selectCombo(${JSON.stringify(combo.dests)}, ${combo.days})">
            ${combo.label}
        </div>
    `).join('');
}

function selectCombo(dests, days) {
    selectedDestinations = [];
    document.querySelectorAll('.destination-card').forEach(card => card.classList.remove('selected'));
    
    dests.forEach(dest => {
        selectedDestinations.push(dest);
        const card = document.querySelector(`[data-name="${dest}"]`);
        if (card) card.classList.add('selected');
    });
    
    updateSelectedDisplay();
    document.getElementById('duration').value = days;
    updateDurationNote();
    updateMap();
    
    document.querySelector('.planner-card').scrollIntoView({ behavior: 'smooth', block: 'start' });
}

// ==================== DESTINATION RENDERING ====================
function renderDestinations() {
    const grid = document.getElementById('destinationGrid');
    grid.innerHTML = Object.keys(destinations).map(name => {
        const dest = destinations[name];
        return `
            <div class="destination-card" 
                 style="background-image: url('${dest.image}')" 
                 onclick="toggleDestination('${name}')" 
                 data-name="${name}">
                <span class="min-days-badge">Min ${dest.minDays} days</span>
                <div class="destination-content">
                    <div>
                        <div class="destination-name">${dest.flag} ${name}</div>
                        <div class="destination-category">${dest.category}</div>
                        <div class="destination-tags">
                            ${dest.tags.slice(0, 3).map(tag => `<span class="destination-tag">${tag}</span>`).join('')}
                        </div>
                    </div>
                    <div style="font-size: 0.85rem; opacity: 0.9;">
                        ${dest.cities.length} ${dest.cities.length > 1 ? 'cities' : 'city'} ‚Ä¢ ${dest.visaType.split('(')[0].trim()}
                    </div>
                </div>
            </div>
        `;
    }).join('');
}

// ==================== DESTINATION SELECTION ====================
function toggleDestination(name) {
    const card = document.querySelector(`[data-name="${name}"]`);
    const index = selectedDestinations.indexOf(name);
    
    if (index > -1) {
        selectedDestinations.splice(index, 1);
        card.classList.remove('selected');
    } else {
        if (selectedDestinations.length >= 4) {
            showToast('Maximum 4 destinations can be selected!', 'warning');
            return;
        }
        selectedDestinations.push(name);
        card.classList.add('selected');
    }
    
    updateSelectedDisplay();
    checkSmartWarning();
    updateMap();
    saveProgress();
}

function removeDestination(name) {
    const index = selectedDestinations.indexOf(name);
    if (index > -1) {
        selectedDestinations.splice(index, 1);
        const card = document.querySelector(`[data-name="${name}"]`);
        if (card) card.classList.remove('selected');
        updateSelectedDisplay();
        checkSmartWarning();
        updateMap();
        saveProgress();
    }
}

function updateSelectedDisplay() {
    const box = document.getElementById('selectedDestinationsBox');
    const list = document.getElementById('selectedList');
    const count = document.getElementById('selectedCount');
    const nextBtn = document.getElementById('step1Next');
    const travelInfo = document.getElementById('travelTimeInfo');
    
    if (selectedDestinations.length > 0) {
        box.style.display = 'block';
        count.textContent = selectedDestinations.length;
        list.innerHTML = selectedDestinations.map(name => `
            <div class="selected-item">
                ${destinations[name].flag} ${name}
                <span class="remove-btn" onclick="removeDestination('${name}')">‚úï</span>
            </div>
        `).join('');
        
        // Show travel time info (NEW!)
        if (selectedDestinations.length > 1) {
            let travelInfoHtml = '<strong>‚úàÔ∏è Estimated Travel Times:</strong><br>';
            for (let i = 0; i < selectedDestinations.length - 1; i++) {
                const from = selectedDestinations[i];
                const to = selectedDestinations[i + 1];
                const time = getTravelTime(from, to);
                travelInfoHtml += `${destinations[from].flag} ‚Üí ${destinations[to].flag}: ${time.description} ${time.fullDay ? '(Full day)' : '(Half day)'}<br>`;
            }
            travelInfo.innerHTML = travelInfoHtml;
        } else {
            travelInfo.innerHTML = '';
        }
        
        nextBtn.disabled = false;
    } else {
        box.style.display = 'none';
        nextBtn.disabled = true;
    }
    updateDurationOptions();
}

// ==================== SMART WARNING SYSTEM (IMPROVED!) ====================
function checkSmartWarning() {
    const warning = document.getElementById('smartWarning');
    const warningText = document.getElementById('warningText');
    const duration = parseInt(document.getElementById('duration').value) || 7;
    
    // Calculate minimum required days
    let minDaysNeeded = 0;
    selectedDestinations.forEach(dest => {
        minDaysNeeded += destinations[dest].minDays;
    });
    
    // Add travel days between countries
    let fullTravelDays = 0;
    for (let i = 0; i < selectedDestinations.length - 1; i++) {
        const time = getTravelTime(selectedDestinations[i], selectedDestinations[i + 1]);
        if (time.fullDay) fullTravelDays++;
    }
    minDaysNeeded += fullTravelDays;
    
    if (selectedDestinations.length >= 2 && duration < minDaysNeeded) {
        warning.classList.add('show');
        
        let breakdown = selectedDestinations.map(d => `${destinations[d].flag} ${d}: ${destinations[d].minDays} days`).join('<br>');
        if (fullTravelDays > 0) {
            breakdown += `<br>‚úàÔ∏è Travel days: ${fullTravelDays} days`;
        }
        
        warningText.innerHTML = `
            <strong>‚ö†Ô∏è ${selectedDestinations.length} countries in ${duration} days is too rushed!</strong><br><br>
            <strong>Minimum days needed:</strong><br>
            ${breakdown}<br><br>
            <strong>Total minimum: ${minDaysNeeded} days</strong><br><br>
            üí° Recommendation: Either extend to ${minDaysNeeded}+ days or reduce to ${selectedDestinations.length - 1} country.
        `;
    } else if (selectedDestinations.length === 4 && duration < 14) {
        warning.classList.add('show');
        warningText.innerHTML = `
            <strong>‚ö†Ô∏è 4 countries requires at least 14-16 days!</strong><br><br>
            You've selected 4 destinations. With travel time between each country, you'll need at least 14 days for a comfortable experience.<br><br>
            üí° We strongly recommend extending to 14+ days or selecting fewer countries.
        `;
    } else {
        warning.classList.remove('show');
    }
}

function extendDuration() {
    // Calculate and set minimum required days
    let minDaysNeeded = 0;
    selectedDestinations.forEach(dest => {
        minDaysNeeded += destinations[dest].minDays;
    });
    for (let i = 0; i < selectedDestinations.length - 1; i++) {
        const time = getTravelTime(selectedDestinations[i], selectedDestinations[i + 1]);
        if (time.fullDay) minDaysNeeded++;
    }
    
    // Round up to nearest standard option
    const options = [3, 4, 5, 7, 10, 14];
    const recommendedDays = options.find(d => d >= minDaysNeeded) || 14;
    
    document.getElementById('duration').value = recommendedDays;
    updateDurationNote();
    document.getElementById('smartWarning').classList.remove('show');
}

function reduceDestinations() {
    if (selectedDestinations.length > 1) {
        const lastDest = selectedDestinations.pop();
        const card = document.querySelector(`[data-name="${lastDest}"]`);
        if (card) card.classList.remove('selected');
        updateSelectedDisplay();
        checkSmartWarning();
        updateMap();
    }
}

function keepCurrent() {
    document.getElementById('smartWarning').classList.remove('show');
}

// ==================== DURATION LOGIC ====================
function updateDurationOptions() {
    const numCountries = selectedDestinations.length;
    
    // Disable too-short options for multi-country
    document.querySelectorAll('#duration option').forEach(opt => {
        const days = parseInt(opt.value);
        if (numCountries >= 2 && days <= 4) {
            opt.disabled = true;
            opt.textContent = opt.textContent.split(' (')[0] + ' (Too short for multi-country)';
        } else if (numCountries >= 3 && days <= 7) {
            opt.disabled = true;
            opt.textContent = opt.textContent.split(' (')[0] + ' (Need 10+ for 3 countries)';
        } else {
            opt.disabled = false;
        }
    });
}

function updateDurationNote() {
    const duration = parseInt(document.getElementById('duration').value);
    const note = document.getElementById('durationNote');
    const warning = document.getElementById('durationWarning');
    
    if (!duration || selectedDestinations.length === 0) {
        note.style.display = 'none';
        warning.style.display = 'none';
        return;
    }
    
    const distribution = calculateCityDistribution(duration);
    
    note.style.display = 'block';
    note.innerHTML = `<strong>üìç Your ${duration}-Day Journey:</strong><br><br>` +
        distribution.map((d, idx) => {
            let travelNote = '';
            if (idx > 0) {
                const time = getTravelTime(selectedDestinations[idx-1], selectedDestinations[idx]);
                travelNote = ` <span style="color: var(--secondary);">(Travel: ${time.fullDay ? 'Full day' : 'Half day'})</span>`;
            }
            return `${destinations[d.country].flag} <strong>${d.country}</strong>: ${d.cities.join(' ‚Üí ')}${travelNote}`;
        }).join('<br>');
    
    checkSmartWarning();
    saveProgress();
}

function calculateCityDistribution(totalDays) {
    const distribution = [];
    const numCountries = selectedDestinations.length;
    
    // Calculate travel days
    let travelDays = 0;
    for (let i = 0; i < numCountries - 1; i++) {
        const time = getTravelTime(selectedDestinations[i], selectedDestinations[i + 1]);
        if (time.fullDay) travelDays++;
    }
    
    const sightseeingDays = totalDays - travelDays;
    const baseDaysPerCountry = Math.floor(sightseeingDays / numCountries);
    let extraDays = sightseeingDays % numCountries;
    
    selectedDestinations.forEach((country) => {
        let countryDays = baseDaysPerCountry + (extraDays > 0 ? 1 : 0);
        if (extraDays > 0) extraDays--;
        
        let cityList = [];
        const allCities = destinations[country].cities;
        
        allCities.forEach(city => {
            const days = Math.max(1, Math.round((city.days / allCities.reduce((s, c) => s + c.days, 0)) * countryDays));
            cityList.push(`${city.name} (${days}d)`);
        });
        
        distribution.push({
            country,
            cities: cityList,
            totalDays: countryDays
        });
    });
    
    return distribution;
}

// ==================== BUDGET & DATE ====================
function selectBudget(budget, element) {
    selectedBudget = budget;
    document.querySelectorAll('.budget-option').forEach(opt => opt.classList.remove('selected'));
    element.classList.add('selected');
    saveProgress();
}

function setMinDate() {
    const tomorrow = new Date();
    tomorrow.setDate(tomorrow.getDate() + 14);
    document.getElementById('travelDate').min = tomorrow.toISOString().split('T')[0];
}

function checkPeakSeason2026() {
    const dateInput = document.getElementById('travelDate').value;
    if (!dateInput) return;
    
    const selectedDate = new Date(dateInput);
    const month = selectedDate.getMonth();
    const day = selectedDate.getDate();
    
    isPeakSeason = (month === 1 && day >= 15 && day <= 25) || // CNY
        (month === 3 && day >= 10 && day <= 20) || // Songkran
        (month === 11 && day >= 15) || // Christmas
        (month === 0 && day <= 10) || // New Year
        (month >= 5 && month <= 7); // Summer
    
    document.getElementById('peakSeason2026').style.display = isPeakSeason ? 'block' : 'none';
    saveProgress();
}

// ==================== ADD-ONS ====================
function renderAddons() {
    const grid = document.getElementById('addonsGrid');
    const tours = [];
    
    selectedDestinations.forEach(destName => {
        const dest = destinations[destName];
        if (dest.cityTours) {
            dest.cityTours.forEach(tour => {
                tours.push({ ...tour, country: destName, flag: dest.flag });
            });
        }
    });
    
    if (tours.length === 0) {
        grid.innerHTML = '<p style="color: var(--gray-500); grid-column: 1/-1;">No city tours available.</p>';
        return;
    }
    
    grid.innerHTML = tours.map(tour => `
        <div class="addon-item ${selectedAddons.includes(tour.id) ? 'selected' : ''}" onclick="toggleAddon('${tour.id}')">
            <div class="addon-checkbox">${selectedAddons.includes(tour.id) ? '‚úì' : ''}</div>
            <div class="addon-info">
                <div class="addon-name">${tour.flag} ${tour.name}</div>
                <div class="addon-desc">${tour.desc} ‚Ä¢ ${tour.duration}</div>
            </div>
            <div class="addon-price">‡ß≥${tour.price.toLocaleString()}</div>
        </div>
    `).join('');
    
    updateAddonsTotal();
}

function toggleAddon(addonId) {
    const index = selectedAddons.indexOf(addonId);
    if (index > -1) {
        selectedAddons.splice(index, 1);
    } else {
        selectedAddons.push(addonId);
    }
    renderAddons();
}

function updateAddonsTotal() {
    let total = 0;
    selectedDestinations.forEach(destName => {
        const dest = destinations[destName];
        if (dest.cityTours) {
            dest.cityTours.forEach(tour => {
                if (selectedAddons.includes(tour.id)) {
                    total += tour.price;
                }
            });
        }
    });
    document.getElementById('addonsTotal').textContent = `‡ß≥${total.toLocaleString()}/person`;
}

// ==================== NAVIGATION ====================
function nextStep() {
    if (currentStep === 1 && selectedDestinations.length === 0) {
        showToast('Please select at least one destination', 'error');
        return;
    }
    
    if (currentStep === 2) {
        if (!document.getElementById('duration').value) {
            showToast('Please select trip duration', 'error');
            return;
        }
        if (parseInt(document.getElementById('adults').value) < 1) {
            showToast('At least 1 adult traveler required', 'error');
            return;
        }
        if (!document.getElementById('travelDate').value) {
            showToast('Please select travel date', 'error');
            return;
        }
    }
    
    saveProgress();
    
    document.querySelector(`[data-section="${currentStep}"]`).classList.remove('active');
    document.querySelector(`[data-step="${currentStep}"]`).classList.remove('active');
    document.querySelector(`[data-step="${currentStep}"]`).classList.add('completed');
    
    currentStep++;
    
    document.querySelector(`[data-section="${currentStep}"]`).classList.add('active');
    document.querySelector(`[data-step="${currentStep}"]`).classList.add('active');
    
    if (currentStep >= 2) {
        document.getElementById('popularPackages').style.display = 'none';
        document.getElementById('testimonials').style.display = 'none';
        document.getElementById('interestSelector').style.display = 'none';
        document.getElementById('recommendedCombos').style.display = 'none';
    }
    
    if (currentStep === 3) {
        renderAddons();
    }
    
    window.scrollTo({ top: document.querySelector('.planner-card').offsetTop - 20, behavior: 'smooth' });
    sendHeightToParent();
}

function prevStep() {
    document.querySelector(`[data-section="${currentStep}"]`).classList.remove('active');
    document.querySelector(`[data-step="${currentStep}"]`).classList.remove('active');
    
    currentStep--;
    
    if (currentStep === 1) {
        document.getElementById('popularPackages').style.display = 'block';
        document.getElementById('testimonials').style.display = 'block';
        document.getElementById('interestSelector').style.display = 'block';
        document.getElementById('recommendedCombos').style.display = 'block';
    }
    
    document.querySelector(`[data-section="${currentStep}"]`).classList.add('active');
    document.querySelector(`[data-step="${currentStep}"]`).classList.remove('completed');
    document.querySelector(`[data-step="${currentStep}"]`).classList.add('active');
    
    window.scrollTo({ top: document.querySelector('.planner-card').offsetTop - 20, behavior: 'smooth' });
}

// ==================== VALIDATION ====================
function validatePhone(phone) { return /^01[3-9]\d{8}$/.test(phone); }
function validateEmail(email) { return !email || email.trim() === '' || /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email); }

function showError(inputId, errorId) {
    document.getElementById(inputId)?.classList.add('error');
    document.getElementById(errorId)?.classList.add('show');
}

function clearError(inputId, errorId) {
    document.getElementById(inputId)?.classList.remove('error');
    document.getElementById(errorId)?.classList.remove('show');
}

// ==================== SAVE/LOAD ====================
function saveProgress() {
    const saveData = {
        currentStep,
        selectedDestinations,
        selectedBudget,
        selectedInterest,
        selectedAddons,
        formData: {
            duration: document.getElementById('duration')?.value || '',
            adults: document.getElementById('adults')?.value || '2',
            children: document.getElementById('children')?.value || '0',
            travelDate: document.getElementById('travelDate')?.value || ''
        },
        timestamp: new Date().toISOString()
    };
    localStorage.setItem('gofly_trip_planner_v4', JSON.stringify(saveData));
    showSaveIndicator();
}

function loadProgress() {
    const saved = localStorage.getItem('gofly_trip_planner_v4');
    if (saved) {
        try {
            const data = JSON.parse(saved);
            const hoursDiff = (new Date() - new Date(data.timestamp)) / (1000 * 60 * 60);
            
            if (hoursDiff < 48 && data.selectedDestinations?.length > 0) {
                if (confirm('üìù ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶∏‡ßá‡¶∂‡¶® ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶ó‡ßá‡¶õ‡ßá‡•§ Resume ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?')) {
                    selectedDestinations = data.selectedDestinations || [];
                    selectedBudget = data.selectedBudget || 'standard';
                    selectedInterest = data.selectedInterest;
                    selectedAddons = data.selectedAddons || [];
                    
                    selectedDestinations.forEach(dest => {
                        const card = document.querySelector(`[data-name="${dest}"]`);
                        if (card) card.classList.add('selected');
                    });
                    
                    if (data.formData) {
                        setTimeout(() => {
                            if (data.formData.duration) document.getElementById('duration').value = data.formData.duration;
                            if (data.formData.adults) document.getElementById('adults').value = data.formData.adults;
                            if (data.formData.children) document.getElementById('children').value = data.formData.children;
                            if (data.formData.travelDate) document.getElementById('travelDate').value = data.formData.travelDate;
                        }, 100);
                    }
                    
                    updateSelectedDisplay();
                    updateMap();
                }
            }
        } catch (e) { console.error('Load error:', e); }
    }
}

function showSaveIndicator() {
    const indicator = document.getElementById('saveIndicator');
    indicator.classList.add('show');
    setTimeout(() => indicator.classList.remove('show'), 2000);
}

// ==================== GENERATE ITINERARY ====================
function generateItinerary() {
    const userName = document.getElementById('userName').value.trim();
    const userPhone = document.getElementById('userPhone').value.trim();
    const userEmail = document.getElementById('userEmail').value.trim();
    
    clearError('userName', 'nameError');
    clearError('userPhone', 'phoneError');
    clearError('userEmail', 'emailError');

    let hasError = false;

    // Validate name
    if (!userName) {
        showError('userName', 'nameError');
        showToast('Please enter your name', 'error');
        hasError = true;
    } else if (!validateName(userName)) {
        showError('userName', 'nameError');
        showToast('Name should contain only letters (2-100 characters)', 'error');
        hasError = true;
    }

    // Validate phone
    if (!userPhone) {
        showError('userPhone', 'phoneError');
        showToast('Please enter your phone number', 'error');
        hasError = true;
    } else if (!validatePhone(userPhone)) {
        showError('userPhone', 'phoneError');
        showToast('Invalid phone format. Use: 01XXXXXXXXX (11 digits)', 'error');
        hasError = true;
    }

    // Validate email (optional but must be valid if provided)
    if (userEmail && !validateEmail(userEmail)) {
        showError('userEmail', 'emailError');
        showToast('Invalid email format', 'error');
        hasError = true;
    }
    
    if (hasError) return;
    
    document.getElementById('itineraryResult').innerHTML = `
        <div class="loading-spinner">
            <div class="spinner">‚è≥</div>
            <p style="margin-top: 16px;">Creating your perfect 2026 itinerary...</p>
        </div>
    `;
    
    document.querySelectorAll('.form-section').forEach(s => s.classList.remove('active'));
    document.getElementById('stepIndicator').style.display = 'none';
    document.getElementById('itineraryResult').classList.add('active');
    
    window.scrollTo({ top: 0, behavior: 'smooth' });
    
    tripData = {
        destinations: selectedDestinations,
        duration: parseInt(document.getElementById('duration').value),
        adults: parseInt(document.getElementById('adults').value),
        children: parseInt(document.getElementById('children').value) || 0,
        travelDate: document.getElementById('travelDate').value,
        budget: selectedBudget,
        addons: selectedAddons,
        isPeakSeason,
        userName,
        userPhone,
        userEmail,
        specialNotes: document.getElementById('specialNotes').value
    };
    
    localStorage.removeItem('gofly_trip_planner_v4');
    
    setTimeout(displayItinerary, 2000);
}

// ==================== CALCULATE COSTS (IMPROVED!) ====================
function calculateRealCosts() {
    const costs = {
        hotels: [],
        totalHotels: 0,
        totalCityTours: 0,
        cityTours: [],
        basePackage: 0,
        discount: 0,
        grandTotal: 0,
        childrenDiscount: 0
    };
    
    const totalDays = tripData.duration;
    const nights = totalDays - 1;
    const adults = tripData.adults;
    const children = tripData.children;
    const roomsNeeded = Math.ceil(adults / 2);
    const distribution = calculateCityDistribution(totalDays);
    
    // Peak season multiplier
    const peakMultiplier = tripData.isPeakSeason ? 1.25 : 1;
    
    selectedDestinations.forEach((country, countryIdx) => {
        const dest = destinations[country];
        const countryInfo = distribution[countryIdx];
        const countryNights = countryInfo.totalDays;
        
        // Hotels (per room, breakfast included)
        let hotelRate = tripData.budget === 'economy' ? dest.hotelBudget : 
                        tripData.budget === 'premium' ? dest.hotelLuxury : dest.hotelStandard;
        hotelRate = Math.round(hotelRate * peakMultiplier);
        
        const hotelType = tripData.budget === 'economy' ? '3‚òÖ' : tripData.budget === 'premium' ? '5‚òÖ' : '4‚òÖ';
        const hotelCost = hotelRate * countryNights * roomsNeeded;
        
        costs.hotels.push({ 
            country, 
            nights: countryNights, 
            type: hotelType, 
            ratePerNight: hotelRate, 
            rooms: roomsNeeded, 
            total: hotelCost
        });
        costs.totalHotels += hotelCost;
    });
    
    // Children 50% discount on hotels
    if (children > 0) {
        costs.childrenDiscount = Math.round(costs.totalHotels * 0.1 * children); // Approximate
        costs.totalHotels = costs.totalHotels - costs.childrenDiscount;
    }
    
    // City Tours (only if selected)
    const totalTravelers = adults + children;
    selectedDestinations.forEach(destName => {
        const dest = destinations[destName];
        if (dest.cityTours) {
            dest.cityTours.forEach(tour => {
                if (selectedAddons.includes(tour.id)) {
                    const tourCost = tour.price * totalTravelers;
                    costs.cityTours.push({ 
                        name: tour.name, 
                        price: tourCost, 
                        duration: tour.duration, 
                        country: destName,
                        perPerson: tour.price
                    });
                    costs.totalCityTours += tourCost;
                }
            });
        }
    });
    
    // Base package = Hotels only (transfers included conceptually)
    costs.basePackage = costs.totalHotels;
    
    // 5% Early bird discount
    costs.discount = Math.round(costs.basePackage * 0.05);
    
    // Grand total = Base package (discounted) + City tours
    costs.grandTotal = costs.basePackage - costs.discount + costs.totalCityTours;
    
    return costs;
}

// ==================== DATE FORMATTING ====================
function formatDate(startDate, daysToAdd) {
    const date = new Date(startDate);
    date.setDate(date.getDate() + daysToAdd);
    return date.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric', year: 'numeric' });
}

function formatDateShort(startDate, daysToAdd) {
    const date = new Date(startDate);
    date.setDate(date.getDate() + daysToAdd);
    return date.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' });
}

// ==================== GENERATE DYNAMIC ITINERARY (IMPROVED!) ====================
function generateDynamicItinerary() {
    const itinerary = [];
    let currentDay = 1;
    const distribution = calculateCityDistribution(tripData.duration);
    
    selectedDestinations.forEach((destKey, index) => {
        const dest = destinations[destKey];
        const countryInfo = distribution[index];
        const isFirst = index === 0;
        const isLast = index === selectedDestinations.length - 1;
        
        // Get city highlights
        const highlights = cityHighlights[destKey] || {};
        
        // ARRIVAL / TRAVEL DAY
        if (isFirst) {
            // First day - Arrival (dynamic time based on typical DAC flights)
            itinerary.push({
                day: currentDay,
                location: `${dest.cities[0]?.name || destKey} (Arrival)`,
                isTravelDay: true,
                country: destKey,
                highlights: ['Arrival', 'Check-in'],
                activities: [
                    { time: 'Flight', name: '‚úàÔ∏è Departure from Dhaka', desc: 'International flight (timing varies)' },
                    { time: 'Arrival', name: 'üõ¨ Arrive at destination', desc: 'Immigration and baggage claim' },
                    { time: 'Transfer', name: 'üöó Airport Transfer', desc: 'Private transfer to hotel (Included)' },
                    { time: 'Afternoon', name: 'üè® Hotel Check-in', desc: 'Freshen up and rest' },
                    { time: 'Evening', name: 'üö∂ Explore Nearby', desc: 'Light walk around hotel area' },
                    { time: 'Night', name: 'üçΩÔ∏è Dinner', desc: 'Local cuisine (own expense)' }
                ]
            });
            currentDay++;
        } else {
            // Travel between countries
            const prevDest = selectedDestinations[index - 1];
            const travelTime = getTravelTime(prevDest, destKey);
            
            itinerary.push({
                day: currentDay,
                location: `${prevDest} ‚Üí ${destKey}`,
                isTravelDay: true,
                country: 'Travel',
                highlights: ['Travel Day'],
                activities: [
                    { time: 'Morning', name: 'üç≥ Breakfast', desc: 'Hotel breakfast (Included)' },
                    { time: 'Check-out', name: 'üè® Hotel Checkout', desc: 'Pack and checkout' },
                    { time: 'Transfer', name: 'üöó Airport Transfer', desc: 'Transfer to airport' },
                    { time: 'Flight', name: '‚úàÔ∏è Fly to ' + destKey, desc: travelTime.description + ' (Book separately)' },
                    { time: 'Arrival', name: 'üõ¨ Arrive ' + destKey, desc: 'Immigration and transfer' },
                    { time: 'Evening', name: 'üè® Check-in', desc: 'New hotel check-in' },
                    { time: 'Night', name: 'üçΩÔ∏è Dinner', desc: 'Local dinner (own expense)' }
                ]
            });
            currentDay++;
        }
        
        // SIGHTSEEING DAYS
        const sightseeingDays = countryInfo.totalDays - 1 - (isLast ? 1 : 0);
        
        for (let d = 0; d < sightseeingDays; d++) {
            const cityIdx = d % dest.cities.length;
            const cityName = dest.cities[cityIdx]?.name || destKey;
            const cityAttractions = highlights[cityName] || ['Explore', 'Sightseeing'];
            
            itinerary.push({
                day: currentDay,
                location: `${destKey} - ${cityName}`,
                isTravelDay: false,
                country: destKey,
                highlights: cityAttractions.slice(0, 3),
                activities: [
                    { time: 'Morning', name: 'üç≥ Breakfast', desc: 'Hotel buffet breakfast (Included)' },
                    { time: '09:30 AM', name: 'üéØ ' + (cityAttractions[0] || 'Morning Activity'), desc: 'Full morning exploration' },
                    { time: '01:00 PM', name: 'üç± Lunch', desc: 'Local cuisine (own expense)' },
                    { time: '03:00 PM', name: 'üé® ' + (cityAttractions[1] || 'Afternoon Activity'), desc: 'Afternoon sightseeing' },
                    { time: '06:00 PM', name: 'üåÖ ' + (cityAttractions[2] || 'Evening'), desc: 'Sunset views or shopping' },
                    { time: '08:00 PM', name: 'üçΩÔ∏è Dinner', desc: 'Restaurant or street food (own expense)' }
                ]
            });
            currentDay++;
        }
        
        // DEPARTURE DAY (only for last country)
        if (isLast) {
            itinerary.push({
                day: currentDay,
                location: 'Departure Day',
                isTravelDay: true,
                country: destKey,
                highlights: ['Checkout', 'Departure'],
                activities: [
                    { time: 'Morning', name: 'üç≥ Breakfast', desc: 'Final hotel breakfast (Included)' },
                    { time: 'Check-out', name: 'üè® Hotel Checkout', desc: 'Pack and checkout' },
                    { time: 'Free Time', name: 'üõçÔ∏è Last-Minute Shopping', desc: 'If time permits' },
                    { time: 'Transfer', name: 'üöó Airport Transfer', desc: 'Transfer to airport (Included)' },
                    { time: 'Flight', name: '‚úàÔ∏è Departure', desc: 'Fly home! Safe travels üëã' }
                ]
            });
        }
    });
    
    return itinerary;
}

// ==================== DISPLAY ITINERARY (IMPROVED!) ====================
function displayItinerary() {
    const totalDays = tripData.duration;
    const nights = totalDays - 1;
    const totalTravelers = tripData.adults + tripData.children;
    const costs = calculateRealCosts();
    
    const destinationFlags = selectedDestinations.map(d => destinations[d].flag).join(' ');
    const destinationNames = selectedDestinations.join(' + ');
    
    // WhatsApp message
    const whatsappMessage = encodeURIComponent(
        `Assalamu Alaikum goFLY!\n\n` +
        `üéØ Trip Request (Trip Planner 2026):\n\n` +
        `üìç ${destinationNames}\n` +
        `üìÖ ${totalDays}D/${nights}N\n` +
        `üë• ${tripData.adults}A + ${tripData.children}C\n` +
        `üí∞ ${tripData.budget.toUpperCase()}\n` +
        `üìÜ ${formatDate(tripData.travelDate, 0)}\n` +
        `üíµ Land Package: ‡ß≥${costs.grandTotal.toLocaleString()}\n` +
        `\n‚úàÔ∏è Please quote FLIGHTS + VISA!\n\n` +
        `Name: ${tripData.userName}\n` +
        `Phone: ${tripData.userPhone}`
    );
    
    // Generate itinerary
    const itinerary = generateDynamicItinerary();
    
    // Day-by-day HTML
    const daysHtml = itinerary.map(day => {
        const dayClass = day.isTravelDay ? 'day-itinerary travel-day' : 'day-itinerary';
        const highlightsHtml = day.highlights ? day.highlights.map(h => `<span class="highlight-tag">${h}</span>`).join('') : '';
        
        return `
            <div class="${dayClass}">
                <div class="day-header">
                    <div class="day-number">
                        <span>DAY</span>
                        <strong>${day.day}</strong>
                    </div>
                    <div class="day-info">
                        <h3>${day.location}</h3>
                        <div class="date">${formatDateShort(tripData.travelDate, day.day - 1)}</div>
                    </div>
                    <div class="day-highlights">${highlightsHtml}</div>
                </div>
                <ul class="activity-list">
                    ${day.activities.map(act => `
                        <li>
                            <div class="activity-time">${act.time}</div>
                            <div class="activity-content">
                                <div class="activity-name">${act.name}</div>
                                <div class="activity-desc">${act.desc}</div>
                            </div>
                        </li>
                    `).join('')}
                </ul>
            </div>
        `;
    }).join('');
    
    // Visa links
    const visaLinksHtml = selectedDestinations.map(name => `
        <a href="${destinations[name].visaGuideUrl}" target="_blank" class="visa-link-card">
            <div class="flag">${destinations[name].flag}</div>
            <div class="info">
                <div class="country-name">${name} Visa</div>
                <div class="visa-type">${destinations[name].visaType}</div>
            </div>
            <div class="arrow">‚Üí</div>
        </a>
    `).join('');
    
    // Tours breakdown (only if selected)
    const toursBreakdownHtml = costs.cityTours.length > 0 ? `
        <div class="tours-breakdown">
            <h4>üéØ Selected City Tours</h4>
            ${costs.cityTours.map(t => `
                <div class="tour-item">
                    <span>${t.name}</span>
                    <span>‡ß≥${t.price.toLocaleString()} (${totalTravelers}P √ó ‡ß≥${t.perPerson.toLocaleString()})</span>
                </div>
            `).join('')}
            <div class="tour-item" style="font-weight: 700; margin-top: 8px; padding-top: 8px; border-top: 2px solid #a855f7;">
                <span>Tours Total</span>
                <span>‡ß≥${costs.totalCityTours.toLocaleString()}</span>
            </div>
        </div>
    ` : '';
    
    // FINAL HTML
    document.getElementById('itineraryResult').innerHTML = `
        <!-- Improved Header -->
        <div class="result-header">
            <span class="emoji-bg">‚úàÔ∏è</span>
            <span class="emoji-bg">üå¥</span>
            <span class="emoji-bg">üèñÔ∏è</span>
            
            <h2>Your ${totalDays}-Day Adventure Awaits! üéâ</h2>
            
            <div class="result-destinations">
                ${selectedDestinations.map(d => `<span class="country">${destinations[d].flag} ${d}</span>`).join('')}
            </div>
            
            <div class="result-meta">
                <span>üìÖ ${totalDays} Days / ${nights} Nights</span>
                <span>üë• ${tripData.adults} Adults${tripData.children > 0 ? ` + ${tripData.children} Children` : ''}</span>
                <span>üóìÔ∏è ${formatDateShort(tripData.travelDate, 0)}</span>
            </div>
            
            <div class="discount-badge">üéÅ 5% Early Bird Discount Applied!</div>
        </div>
        
        <!-- Trip Summary -->
        <div class="trip-summary">
            <div class="summary-item">
                <div class="icon">üåç</div>
                <div class="label">Countries</div>
                <div class="value">${selectedDestinations.length}</div>
            </div>
            <div class="summary-item">
                <div class="icon">üìÖ</div>
                <div class="label">Duration</div>
                <div class="value">${totalDays}D/${nights}N</div>
            </div>
            <div class="summary-item">
                <div class="icon">üë•</div>
                <div class="label">Travelers</div>
                <div class="value">${totalTravelers}</div>
            </div>
            <div class="summary-item">
                <div class="icon">üéØ</div>
                <div class="label">Tours</div>
                <div class="value">${selectedAddons.length}</div>
            </div>
            <div class="summary-item highlight">
                <div class="icon">üí∞</div>
                <div class="label">Total Cost</div>
                <div class="value">‡ß≥${costs.grandTotal.toLocaleString()}</div>
            </div>
        </div>
        
        <!-- What's Included -->
        <div style="background: linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%); border-radius: 16px; padding: 24px; margin-bottom: 24px; border-left: 4px solid var(--primary);">
            <h4 style="color: var(--primary-dark); margin-bottom: 16px; font-size: 1.2rem;">‚úÖ What's Included in Base Package</h4>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                <div>
                    <h5 style="color: var(--primary); margin-bottom: 8px;">üè® Accommodation</h5>
                    <ul style="list-style: none; font-size: 0.9rem; color: var(--gray-700);">
                        <li>‚úÖ ${tripData.budget === 'economy' ? '3‚òÖ' : tripData.budget === 'premium' ? '5‚òÖ' : '4‚òÖ'} Hotels</li>
                        <li>‚úÖ Daily Breakfast</li>
                        <li>‚úÖ ${nights} Nights Stay</li>
                    </ul>
                </div>
                <div>
                    <h5 style="color: var(--primary); margin-bottom: 8px;">üöó Transfers</h5>
                                        <ul style="list-style: none; font-size: 0.9rem; color: var(--gray-700);">
                        <li>‚úÖ Airport Pickup & Drop</li>
                        <li>‚úÖ All Inter-city Transfers</li>
                        <li>‚úÖ AC Private Vehicle</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- What's NOT Included -->
        <div style="background: linear-gradient(135deg, #fef3c7 0%, #fed7aa 100%); border-radius: 16px; padding: 24px; margin-bottom: 24px; border-left: 4px solid var(--warning);">
            <h4 style="color: #92400e; margin-bottom: 12px; font-size: 1.1rem;">‚ùå Not Included (Book Separately)</h4>
            <div style="display: flex; gap: 24px; flex-wrap: wrap; font-size: 0.95rem; color: #92400e;">
                <span>‚úàÔ∏è Flights</span>
                <span>üõÇ Visa Fee</span>
                <span>üçΩÔ∏è Lunch & Dinner</span>
                <span>üéØ City Tours (optional)</span>
                <span>üíº Travel Insurance</span>
            </div>
        </div>
        
        <!-- Flight Notice -->
        <div class="flight-notice">
            <h3>‚úàÔ∏è Flights & Visa - Get Complete Quote!</h3>
            <p>Our IATA certified experts get exclusive airfare deals. Save ‡ß≥5,000 - ‡ß≥20,000 on flights!</p>
            <div class="flight-cta">
                <a href="https://wa.me/8801713289171?text=${whatsappMessage}" target="_blank" style="background: linear-gradient(135deg, #25d366 0%, #128c7e 100%); color: white;">
                    üí¨ Get Full Quote
                </a>
                <a href="tel:+8809639203090" style="background: var(--secondary); color: white;">
                    üìû 09639-203090
                </a>
            </div>
        </div>
        
        <!-- Download Buttons -->
        <div class="download-buttons">
            <button onclick="downloadPDF()" class="btn-download">üì• Download PDF</button>
            <button onclick="window.print()" class="btn-download" style="background: var(--primary);">üñ®Ô∏è Print</button>
            <button onclick="shareViaEmail()" class="btn-download" style="background: var(--secondary);">üì§ Share</button>
        </div>
        
        <!-- Day-by-Day Itinerary -->
        <h3 style="font-size: 1.5rem; margin: 32px 0 20px; display: flex; align-items: center; gap: 10px;">
            üìÖ Day-by-Day Itinerary
            <span style="font-size: 0.9rem; color: var(--gray-500); font-weight: 400;">(Flexible timings)</span>
        </h3>
        ${daysHtml}
        
        <!-- Price Breakdown -->
        <div class="price-section">
            <div class="price-header">
                <h3>üí∞ Package Pricing (2026 Rates)</h3>
                <p>${tripData.isPeakSeason ? '‚ö†Ô∏è Peak season rates applied (+25%)' : 'Regular season rates'}</p>
            </div>
            
            <div class="price-body">
                <div class="price-category">üè® Accommodation (with Breakfast)</div>
                ${costs.hotels.map(h => `
                    <div class="price-row">
                        <div class="label">
                            ${destinations[h.country].flag} ${h.country} - ${h.type} Hotel
                            <small>${h.nights} nights √ó ${h.rooms} room √ó ‡ß≥${h.ratePerNight.toLocaleString()}/night</small>
                        </div>
                        <div class="amount">‡ß≥${h.total.toLocaleString()}</div>
                    </div>
                `).join('')}
                
                ${costs.childrenDiscount > 0 ? `
                    <div class="price-row" style="color: var(--primary);">
                        <div class="label">üë∂ Children Discount (${tripData.children} child)</div>
                        <div class="amount">-‡ß≥${costs.childrenDiscount.toLocaleString()}</div>
                    </div>
                ` : ''}
                
                <div class="price-row subtotal">
                    <div class="label">Base Package (Hotels + Transfers)</div>
                    <div class="amount">‡ß≥${costs.basePackage.toLocaleString()}</div>
                </div>
                
                <div class="price-row discount">
                    <div class="label">üéÅ Early Bird Discount (5%)</div>
                    <div class="amount">-‡ß≥${costs.discount.toLocaleString()}</div>
                </div>
                
                ${toursBreakdownHtml}
                
                <div class="price-note">
                    <span class="icon">üí°</span>
                    <div>
                        <strong>Note:</strong> Flights, Visa fees, Lunch & Dinner are NOT included. 
                        Contact us for complete quotation including flights.
                    </div>
                </div>
                
                <div class="price-total">
                    <div class="label">GRAND TOTAL (Land Package)</div>
                    <div class="amount">‡ß≥${costs.grandTotal.toLocaleString()}</div>
                </div>
            </div>
        </div>
        
        <!-- Per Person Breakdown -->
        <div style="background: var(--gray-50); padding: 20px; border-radius: 12px; margin: 24px 0; text-align: center;">
            <p style="color: var(--gray-600); margin-bottom: 8px;">Per Person Cost (${totalTravelers} travelers)</p>
            <p style="font-size: 2rem; font-weight: 700; color: var(--primary);">‡ß≥${Math.round(costs.grandTotal / totalTravelers).toLocaleString()}</p>
            <p style="color: var(--gray-500); font-size: 0.9rem;">Includes: Hotel + Breakfast + Transfers${costs.totalCityTours > 0 ? ' + Selected Tours' : ''}</p>
        </div>
        
        <!-- Visa Links -->
        <div style="background: linear-gradient(135deg, #fef3c7 0%, #fed7aa 100%); border-radius: 16px; padding: 24px; margin-bottom: 24px;">
            <h3 style="color: #92400e; margin-bottom: 16px;">üìã Visa Processing (90-98% Success Rate)</h3>
            <p style="color: #92400e; margin-bottom: 16px;">goFLY handles visa processing with expert support. Click to learn more:</p>
            <div class="visa-links-grid">${visaLinksHtml}</div>
        </div>
        
        <!-- CTA Section -->
        <div class="cta-section">
            <a href="https://wa.me/8801713289171?text=${whatsappMessage}" class="cta-button cta-whatsapp" target="_blank">
                üí¨ WhatsApp Quote
            </a>
            <a href="tel:+8809639203090" class="cta-button cta-call">
                üìû Call Now
            </a>
            <a href="mailto:support@goflybd.com?subject=Trip%20Quote%20${encodeURIComponent(destinationNames)}" class="cta-button cta-email">
                ‚úâÔ∏è Email
            </a>
        </div>
        
        <!-- EMI Calculator -->
        <div class="emi-calculator">
            <h3>üí≥ EMI Calculator (0% Available on Select Cards)</h3>
            <div class="emi-inputs">
                <div class="emi-input-group">
                    <label>Amount (‡ß≥)</label>
                    <input type="number" id="emiAmount" value="${costs.grandTotal}">
                </div>
                <div class="emi-input-group">
                    <label>Down Payment</label>
                    <input type="number" id="emiDown" value="0" min="0">
                </div>
                <div class="emi-input-group">
                    <label>Months</label>
                    <select id="emiMonths">
                        <option value="3">3 Months</option>
                        <option value="6" selected>6 Months</option>
                        <option value="12">12 Months</option>
                        <option value="24">24 Months</option>
                    </select>
                </div>
                <div class="emi-input-group">
                    <label>Interest</label>
                    <select id="emiInterest">
                        <option value="0">0% (Select Banks)</option>
                        <option value="12" selected>12% Annual</option>
                        <option value="18">18% Annual</option>
                    </select>
                </div>
            </div>
            <button class="btn btn-primary" onclick="calculateEMI()" style="width: 100%;">Calculate EMI</button>
            <div class="emi-result" id="emiResult">
                <div class="emi-result-row"><span>Loan Amount:</span><span id="emiLoan">‡ß≥0</span></div>
                <div class="emi-result-row"><span>Interest:</span><span id="emiInt">‡ß≥0</span></div>
                <div class="emi-result-row"><span>Total Payable:</span><span id="emiTotal">‡ß≥0</span></div>
                <div class="emi-result-row"><span><strong>Monthly EMI:</strong></span><span id="emiMonthly"><strong>‡ß≥0</strong></span></div>
            </div>
        </div>
        
        <!-- Rating Section -->
        <div class="rating-section">
            <h4>‚≠ê How was this trip planning experience?</h4>
            <div class="rating-stars">
                <span class="rating-star" onclick="setRating(1)">‚≠ê</span>
                <span class="rating-star" onclick="setRating(2)">‚≠ê</span>
                <span class="rating-star" onclick="setRating(3)">‚≠ê</span>
                <span class="rating-star" onclick="setRating(4)">‚≠ê</span>
                <span class="rating-star" onclick="setRating(5)">‚≠ê</span>
            </div>
            <div class="rating-feedback" id="ratingFeedback">
                <textarea id="feedbackText" placeholder="Tell us more about your experience (optional)..." style="width: 100%; padding: 12px; border: 2px solid var(--gray-200); border-radius: 10px; min-height: 80px; font-family: Inter, sans-serif;"></textarea>
                <button onclick="submitRating()" style="margin-top: 12px; background: linear-gradient(135deg, #a855f7 0%, #7c3aed 100%); color: white; padding: 12px 24px; border: none; border-radius: 8px; font-weight: 600; cursor: pointer;">Submit Feedback</button>
            </div>
        </div>
        
        <!-- Plan Another - NO FOOTER HERE! -->
        <div style="text-align: center; margin-top: 32px; padding: 24px; background: var(--gray-50); border-radius: 12px;">
            <p style="color: var(--gray-600); margin-bottom: 16px;">Want to explore more options?</p>
            <button onclick="location.reload()" class="btn btn-secondary" style="padding: 14px 32px;">üîÑ Plan Another Trip</button>
        </div>
    `;
    
    sendHeightToParent();
}

// ==================== EMI CALCULATOR ====================
function calculateEMI() {
    const amount = parseInt(document.getElementById('emiAmount').value) || 0;
    const down = parseInt(document.getElementById('emiDown').value) || 0;
    const months = parseInt(document.getElementById('emiMonths').value);
    const rate = parseFloat(document.getElementById('emiInterest').value);
    
    const loan = amount - down;
    if (loan <= 0) {
        showToast('Loan amount must be positive', 'error');
        return;
    }
    
    let monthly, interest;
    if (rate === 0) {
        monthly = loan / months;
        interest = 0;
    } else {
        const r = rate / 12 / 100;
        monthly = loan * r * Math.pow(1 + r, months) / (Math.pow(1 + r, months) - 1);
        interest = (monthly * months) - loan;
    }
    
    document.getElementById('emiLoan').textContent = '‡ß≥' + loan.toLocaleString();
    document.getElementById('emiInt').textContent = '‡ß≥' + Math.round(interest).toLocaleString();
    document.getElementById('emiTotal').textContent = '‡ß≥' + Math.round(loan + interest).toLocaleString();
    document.getElementById('emiMonthly').innerHTML = '<strong>‡ß≥' + Math.round(monthly).toLocaleString() + '/month</strong>';
    document.getElementById('emiResult').classList.add('show');
}

// ==================== RATING ====================
let userRating = 0;

function setRating(rating) {
    userRating = rating;
    document.querySelectorAll('.rating-star').forEach((star, idx) => {
        star.classList.toggle('active', idx < rating);
    });
    document.getElementById('ratingFeedback').classList.add('show');
}

function submitRating() {
    const feedback = document.getElementById('feedbackText').value;
    console.log('Rating:', userRating, 'Feedback:', feedback);
    
    document.querySelector('.rating-section').innerHTML = `
        <div style="text-align: center; padding: 20px;">
            <div style="font-size: 3rem; margin-bottom: 12px;">üôè</div>
            <h4 style="color: #7e22ce; margin-bottom: 8px;">Thank You!</h4>
            <p style="color: var(--gray-600);">Your feedback helps us improve.</p>
        </div>
    `;
}

// ==================== PDF DOWNLOAD ====================
function downloadPDF() {
    const win = window.open('', '_blank');
    const costs = calculateRealCosts();
    const itinerary = generateDynamicItinerary();
    const destinationNames = selectedDestinations.join(' + ');
    const totalTravelers = tripData.adults + tripData.children;
    
    win.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
            <title>goFLY Trip - ${tripData.userName}</title>
            <style>
                * { margin: 0; padding: 0; box-sizing: border-box; }
                body { font-family: Arial, sans-serif; padding: 30px; color: #333; line-height: 1.6; font-size: 12px; }
                .header { background: linear-gradient(135deg, #10b981, #059669); color: white; padding: 25px; border-radius: 10px; text-align: center; margin-bottom: 25px; }
                .header h1 { font-size: 20px; margin-bottom: 8px; }
                .header p { opacity: 0.9; }
                .summary { display: flex; justify-content: space-around; margin-bottom: 20px; padding: 15px; background: #f8fafc; border-radius: 8px; }
                .summary-item { text-align: center; }
                .summary-item .label { font-size: 10px; color: #64748b; }
                .summary-item .value { font-size: 16px; font-weight: bold; }
                .day { background: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 10px; border-left: 4px solid #10b981; page-break-inside: avoid; }
                .day.travel { border-left-color: #f97316; background: #fff7ed; }
                .day h3 { font-size: 13px; margin-bottom: 8px; color: #1e293b; }
                .day-date { font-size: 11px; color: #64748b; margin-bottom: 8px; }
                .activity { display: flex; padding: 5px 0; border-bottom: 1px solid #e2e8f0; }
                .activity:last-child { border-bottom: none; }
                .activity-time { font-weight: bold; color: #10b981; min-width: 70px; font-size: 11px; }
                .activity-content { flex: 1; }
                .activity-name { font-weight: 600; font-size: 11px; }
                .activity-desc { font-size: 10px; color: #64748b; }
                .price-box { background: #f0fdf4; padding: 20px; border-radius: 10px; margin: 20px 0; }
                .price-box h3 { color: #10b981; margin-bottom: 15px; font-size: 14px; }
                .price-row { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #d1fae5; font-size: 11px; }
                .price-row.total { font-weight: bold; font-size: 14px; color: #10b981; border-top: 2px solid #10b981; margin-top: 10px; padding-top: 12px; border-bottom: none; }
                .note { background: #fef3c7; padding: 12px; border-radius: 8px; font-size: 11px; color: #92400e; margin: 15px 0; }
                .footer { text-align: center; margin-top: 30px; padding: 20px; background: #1e293b; color: white; border-radius: 10px; font-size: 11px; }
                .footer img { height: 40px; margin-bottom: 10px; }
                .includes { display: flex; gap: 30px; margin: 15px 0; }
                .includes-col h4 { color: #10b981; font-size: 12px; margin-bottom: 8px; }
                .includes-col ul { list-style: none; font-size: 11px; }
                .includes-col li { padding: 3px 0; }
                @media print { body { padding: 15px; } .day { page-break-inside: avoid; } }
            </style>
        </head>
        <body>
            <div class="header">
                <h1>‚úàÔ∏è ${destinationNames}</h1>
                <p>${tripData.duration} Days / ${tripData.duration - 1} Nights ‚Ä¢ ${totalTravelers} Travelers</p>
                <p style="margin-top: 5px;">Prepared for: ${tripData.userName} | ${new Date().toLocaleDateString()}</p>
            </div>
            
            <div class="summary">
                <div class="summary-item"><div class="label">Countries</div><div class="value">${selectedDestinations.length}</div></div>
                <div class="summary-item"><div class="label">Duration</div><div class="value">${tripData.duration}D</div></div>
                <div class="summary-item"><div class="label">Travel Date</div><div class="value">${formatDateShort(tripData.travelDate, 0)}</div></div>
                <div class="summary-item"><div class="label">Total Cost</div><div class="value" style="color: #10b981;">‡ß≥${costs.grandTotal.toLocaleString()}</div></div>
            </div>
            
            <div class="includes">
                <div class="includes-col">
                    <h4>‚úÖ Included</h4>
                    <ul>
                        <li>‚úì ${tripData.budget === 'economy' ? '3‚òÖ' : tripData.budget === 'premium' ? '5‚òÖ' : '4‚òÖ'} Hotels</li>
                        <li>‚úì Daily Breakfast</li>
                        <li>‚úì All Transfers</li>
                        ${costs.totalCityTours > 0 ? '<li>‚úì Selected Tours</li>' : ''}
                    </ul>
                </div>
                <div class="includes-col">
                    <h4>‚ùå Not Included</h4>
                    <ul>
                        <li>‚úó Flights</li>
                        <li>‚úó Visa Fee</li>
                        <li>‚úó Lunch & Dinner</li>
                        <li>‚úó Travel Insurance</li>
                    </ul>
                </div>
            </div>
            
            <h2 style="font-size: 14px; margin: 20px 0 15px; color: #1e293b;">üìÖ Day-by-Day Itinerary</h2>
            
            ${itinerary.map(day => `
                <div class="day ${day.isTravelDay ? 'travel' : ''}">
                    <h3>Day ${day.day}: ${day.location}</h3>
                    <div class="day-date">${formatDateShort(tripData.travelDate, day.day - 1)}</div>
                    ${day.activities.map(a => `
                        <div class="activity">
                            <span class="activity-time">${a.time}</span>
                            <div class="activity-content">
                                <div class="activity-name">${a.name}</div>
                                <div class="activity-desc">${a.desc}</div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `).join('')}
            
            <div class="price-box">
                <h3>üí∞ Package Cost Summary</h3>
                ${costs.hotels.map(h => `
                    <div class="price-row">
                        <span>${destinations[h.country].flag} ${h.country} - ${h.type} (${h.nights}N)</span>
                        <span>‡ß≥${h.total.toLocaleString()}</span>
                    </div>
                `).join('')}
                ${costs.childrenDiscount > 0 ? `
                    <div class="price-row" style="color: #10b981;"><span>Children Discount</span><span>-‡ß≥${costs.childrenDiscount.toLocaleString()}</span></div>
                ` : ''}
                <div class="price-row"><span>Base Package</span><span>‡ß≥${costs.basePackage.toLocaleString()}</span></div>
                <div class="price-row" style="color: #ef4444;"><span>Early Bird Discount (5%)</span><span>-‡ß≥${costs.discount.toLocaleString()}</span></div>
                ${costs.totalCityTours > 0 ? `<div class="price-row"><span>City Tours (${costs.cityTours.length} tours)</span><span>‡ß≥${costs.totalCityTours.toLocaleString()}</span></div>` : ''}
                <div class="price-row total"><span>GRAND TOTAL</span><span>‡ß≥${costs.grandTotal.toLocaleString()}</span></div>
            </div>
            
            <div class="note">
                <strong>üìå Important:</strong> This quote is for Land Package only. Flights and Visa fees are NOT included. Contact goFLY for complete booking with flights.
            </div>
            
            <div class="footer">
                <img src="https://goflybd.com/wp-content/uploads/2023/07/goFLY-logo.png.webp" alt="goFLY" style="filter: brightness(0) invert(1);">
                <p><strong>goFLY Limited</strong> | IATA Certified | Since 2017</p>
                <p>üìû 09639-203090 | üí¨ 01713-289171 | ‚úâÔ∏è support@goflybd.com</p>
                <p>üìç 1 Shukrabad Road, Dhaka 1207 | üåê goflybd.com</p>
            </div>
        </body>
        </html>
    `);
    
    win.document.close();
    win.focus();
    setTimeout(() => win.print(), 500);
}

// ==================== SHARE VIA EMAIL ====================
function shareViaEmail() {
    const costs = calculateRealCosts();
    const destinationNames = selectedDestinations.join(' + ');
    const totalTravelers = tripData.adults + tripData.children;
    
    const subject = encodeURIComponent(`My ${destinationNames} Trip Plan - goFLY 2026`);
    const body = encodeURIComponent(
        `Check out my trip plan!\n\n` +
        `üìç Destinations: ${destinationNames}\n` +
        `üìÖ Duration: ${tripData.duration} days\n` +
        `üë• Travelers: ${totalTravelers}\n` +
        `üìÜ Travel Date: ${formatDate(tripData.travelDate, 0)}\n` +
        `üí∞ Land Package: ‡ß≥${costs.grandTotal.toLocaleString()}\n\n` +
        `‚úÖ Includes: Hotels (${tripData.budget}) + Breakfast + Transfers\n` +
        `‚ùå Not Included: Flights, Visa, Meals\n\n` +
        `Planned with goFLY Trip Planner\n` +
        `üåê goflybd.com | üìû 09639-203090`
    );
    
    window.location.href = `mailto:?subject=${subject}&body=${body}`;
}

// ==================== POPULAR PACKAGE SELECTION ====================
// Refactored to reduce code duplication
function selectPopularPackage(dests, days) {
    selectCombo(dests, days);
}

// ==================== UTILITY FUNCTIONS ====================

// Toast Notification System (replaces alert())
let toastTimeout = null;
function showToast(message, type = 'info') {
    const toast = document.getElementById('toastNotification');
    const icon = document.getElementById('toastIcon');
    const msg = document.getElementById('toastMessage');

    // Clear existing timeout
    if (toastTimeout) clearTimeout(toastTimeout);

    // Set icon based on type
    const icons = {
        error: '‚ùå',
        success: '‚úÖ',
        warning: '‚ö†Ô∏è',
        info: '‚ÑπÔ∏è'
    };

    icon.textContent = icons[type] || icons.info;
    msg.textContent = message;

    // Remove old classes and add new
    toast.className = `toast-notification ${type} show`;

    // Auto hide after 4 seconds
    toastTimeout = setTimeout(() => {
        toast.classList.remove('show');
    }, 4000);
}

// Enhanced Validation Functions
function validateEmail(email) {
    const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return re.test(email);
}

function validatePhone(phone) {
    // Bangladesh phone: 01XXXXXXXXX (11 digits)
    const re = /^01[3-9]\d{8}$/;
    return re.test(phone);
}

function validateName(name) {
    // 2-100 characters, letters, spaces, hyphens, apostrophes only
    if (name.length < 2 || name.length > 100) return false;
    const re = /^[a-zA-Z\s'-]+$/;
    return re.test(name);
}

function validateDate(dateString) {
    const selected = new Date(dateString);
    const today = new Date();
    const minDate = new Date(today);
    minDate.setDate(minDate.getDate() + 14); // Minimum 14 days ahead
    const maxDate = new Date(today);
    maxDate.setFullYear(maxDate.getFullYear() + 2); // Maximum 2 years ahead

    return selected >= minDate && selected <= maxDate;
}

// Sanitize HTML to prevent XSS
function sanitizeHTML(str) {
    const div = document.createElement('div');
    div.textContent = str;
    return div.innerHTML;
}

// ==================== CONSOLE ====================
console.log(`
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë  üåç goFLY Trip Planner v4.0 (2026)       ‚ïë
‚ïë  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ    ‚ïë
‚ïë  üìû Hotline: 09639-203090                ‚ïë
‚ïë  üí¨ WhatsApp: 01713-289171               ‚ïë
‚ïë  üåê goflybd.com                          ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
`);
</script>
</body>
</html>
